(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9d098c6c"],{5915:function(e,t,n){},fa8d:function(e,t,n){"use strict";n("5915")},fbbf:function(e,t,n){"use strict";n.r(t);n("4de4"),n("b0c0");var c=n("61f7"),r=n("5f87"),i={name:"Example",mixins:[n("c28f").a],data:function(){return{example:{memberAccount:null,verifyCode:null,verifyCodeKey:null,currencyCode:null,currencySymbol:null},verifyCodeImg:"images/account/vcode.png",currencys:[],currency:"",showCurrency:!1,cultureCode:""}},created:function(){this.initMemberAccount(),this.getCurrency()},methods:{initMemberAccount:function(){var e=this;this.$post("/api/Account/GetFreeMemberAccount").then((function(t){return e.checkResp(t,(function(e){return!0===e.data.success}))})).then((function(t){e.example.memberAccount=t.data})).catch((function(t){e.procError(t)}))},getVerification:function(){var e=this;this.$post("/api/Account/GetVerifyImg").then((function(t){return e.checkResp(t,(function(e){return!0===e.data.success}))})).then((function(t){var n=t.data;e.verifyCodeImg="data:image/png;base64,"+n.img,e.example.verifyCodeKey=n.key})).catch((function(t){e.procError(t)}))},handleLoginClick:function(){Object(c.g)(this.example.memberAccount)&&Object(c.k)(this.example.verifyCode)&&this.onRegisterFreeMember()},onRegisterFreeMember:function(){var e=this;this.showProgress(),this.$post("/api/Account/RegisterFreeMember",this.example).then((function(t){return e.checkResp(t,(function(e){return!0===e.data.success}))})).then((function(t){var n=t.data;Object(r.e)(n.token),e.$store.commit("setToken",n.token),e.initSystem(),e.$sessionSet("tabbar","dashboard"),e.$sessionSet("Home-Popup",!1),e.$router.push("/app/dashboard"),e.$success(e.$t("login.success"))})).catch((function(t){e.showProgress(!1),e.example.verifyCode=null,e.getVerification(),e.procError(t)}))},getCurrency:function(){var e=this;this.$post("/api/Account/GetCurrency").then((function(t){return e.checkResp(t,(function(e){return!0===e.data.success}))})).then((function(t){var n=t.data;e.currencys=n;var c=n.filter((function(e){return!0===e.isDefault})),r=c[0];e.cultureCode=c[0]&&c[0].cultureCode,e.currency=r.name,e.example.currencyCode=r.code,e.example.currencySymbol=r.symbol})).catch((function(t){e.procError(t)}))},onConfirm:function(e){this.example.currencyCode=e.code,this.example.currencySymbol=e.symbol,this.cultureCode=e.cultureCode,this.currency=e.name,this.showCurrency=!1},onClickLeft:function(){this.$router.push("/login")},onClickRight:function(){this.$router.push("/app/service")},$$t:function(e){return this.$t("example."+e)}}},s=(n("fa8d"),n("2877")),o=Object(s.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"example"}},[n("van-nav-bar",{attrs:{border:!1,title:e.$$t("title")},on:{"click-left":e.onClickLeft,"click-right":e.onClickRight}},[n("van-icon",{attrs:{slot:"left",name:"arrow-left",size:"22",color:"#333333"},slot:"left"}),n("van-icon",{attrs:{slot:"right",name:"images/recharge/kf.png",size:"22",color:"#333333"},slot:"right"})],1),n("div",{staticClass:"example-wrapper text-left"},[n("h3",{staticClass:"decoration"},[n("span",[e._v(e._s(e.$$t("title")))])]),n("div",{staticClass:"example-desc"},[e._v(e._s(e.$$t("example_desc")))]),n("div",{staticClass:"pt-9"},[n("div",{staticClass:"subtitle-3"},[e._v(e._s(e.$$t("memberAccount")))]),n("van-field",{staticClass:"mt-2 radius-2",attrs:{readonly:"",placeholder:""+e.$t("register.pLeft")+e.$$t("memberAccount")},model:{value:e.example.memberAccount,callback:function(t){e.$set(e.example,"memberAccount",t)},expression:"example.memberAccount"}}),n("div",{staticClass:"subtitle-3 mt-4"},[e._v(e._s(e.$$t("chooseCurrency")))]),n("van-field",{staticClass:"mt-2 radius-2",attrs:{readonly:"",center:"","right-icon":"arrow"},on:{click:function(t){e.showCurrency=!0}}},[n("div",{staticClass:"flex align-items-center",attrs:{slot:"input"},slot:"input"},[n("van-image",{staticClass:"mr-1",attrs:{src:"/images/common/"+e.cultureCode+".png",width:"18",height:"18"}}),e._v(" "+e._s(e.currency)+" ")],1)]),n("div",{staticClass:"subtitle-3 mt-4"},[e._v(e._s(e.$$t("verifyCode")))]),n("div",{staticClass:"verification mt-2"},[n("van-field",{staticClass:"radius-2",attrs:{maxlength:"4",type:"digit",border:!1,clearable:"",placeholder:e.$t("login.verifyCodePlaceholder")},on:{"~focus":function(t){return e.getVerification(t)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLoginClick(t)}},model:{value:e.example.verifyCode,callback:function(t){e.$set(e.example,"verifyCode",t)},expression:"example.verifyCode"}}),n("img",{staticClass:"verification-img",attrs:{src:e.verifyCodeImg},on:{click:e.getVerification}})],1)],1),n("div",{staticClass:"btn mt-15"},[n("van-button",{staticClass:"radius-2",attrs:{color:"linear-gradient(to right, rgb(129, 170, 255), rgb(70, 132, 255))",block:""},on:{click:e.handleLoginClick}},[n("span",{staticClass:"subtitle-3"},[e._v(e._s(e.$$t("btn")))])])],1)]),n("van-popup",{attrs:{round:"",position:"bottom"},model:{value:e.showCurrency,callback:function(t){e.showCurrency=t},expression:"showCurrency"}},[n("van-picker",{attrs:{"show-toolbar":"","value-key":"name",columns:e.currencys},on:{cancel:function(t){e.showCurrency=!1},confirm:e.onConfirm},scopedSlots:e._u([{key:"option",fn:function(t){return[n("div",{staticClass:"flex align-items-center text-center space-between",staticStyle:{"min-width":"80px"}},[n("van-image",{staticClass:"mr-1",attrs:{src:"images/common/"+t.cultureCode+".png",width:"24",height:"24"}}),n("div",[e._v(e._s(t.name))])],1)]}}])})],1)],1)}),[],!1,null,"c5359952",null);t.default=o.exports}}]);