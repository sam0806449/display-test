(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0f1f009b"],{"327b":function(t,e,i){},a8b1:function(t,e,i){"use strict";i.r(e);i("b0c0"),i("a9e3");var s=i("229e"),n=i("2cd8");s.a.use(n.a);var a={name:"PreferentialDetails",data:function(){return{item:{},bs:null}},activated:function(){var t=this.$route.query.details_id;this.onGetActivityDetail(t)},beforeDestroy:function(){this.bs&&this.bs.destroy()},methods:{onGetActivityDetail:function(t){var e=this;this.$get("/api/Activity/GetActivityDetail?objId="+t).then((function(t){return e.checkResp(t,(function(t){return!0===t.data.success}))})).then((function(t){e.item=t.data,e.$nextTick((function(){document.getElementsByClassName("table").length>0&&e.init()}))})).catch((function(t){e.procError(t)}))},onActivityReceive:function(t){var e=this;if(Number(t.requirement)>Number(this.item.completedRequirements))this.$toast(this.$$t("requirementDesc"));else{var i=[{fieldName:"",value:t.name}];this.$post("/api/Activity/ActivityReceive",{objId:this.$route.query.details_id,activityReceiveParams:i}).then((function(t){return e.checkResp(t,(function(t){return!0===t.data.success}))})).then((function(t){e.$toast(t.data)})).catch((function(t){e.procError(t)}))}},goApply:function(){this.$sessionSet("apply-item",this.item.activityRequirementObj),this.$router.push({path:"apply",query:{objId:this.$route.query.details_id}})},getTypeText:function(){this.item.requirementType;return this.item.requirementTypeDesc},init:function(){this.bs=new s.a(".table",{observeDOM:!0,scrollX:!0,scrollY:!1,eventPassthrough:"vertical"})},$$t:function(t){return this.$t("preferentialDetails."+t)}}},r=(i("bdd4"),i("2877")),c=Object(r.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"preferentialDetails"}},[i("div",{staticClass:"warp",class:{requirementType:4===t.item.requirementType}},[i("div",{staticClass:"warp-center"},[i("scroller",[i("div",{staticClass:"background-white"},[t.item.contentImg?i("van-image",{staticClass:"mb-3",attrs:{src:t.$portrait(t.item.contentImg)},scopedSlots:t._u([{key:"loading",fn:function(){return[i("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0}],null,!1,2352118052)}):t._e()],1),i("div",{staticClass:"px-3 pb-5 pt-3"},[4===t.item.requirementType?[t.item.participationMethod?i("div",{staticClass:"background-white px-4 text-left py-3 radius-2"},[i("div",{staticClass:"text-center main-text subtitle-4 pb-4"},[t._v(t._s(t.item.title))]),i("div",{domProps:{innerHTML:t._s(t.item.participationMethod)}})]):t._e()]:i("div",[t.item.participationMethod?i("div",{staticClass:"background-white px-4 text-left py-3 radius-2 mb-3"},[i("div",{staticClass:"text-center main-text subtitle-4 pb-4"},[t._v(t._s(t.item.title))]),i("div",{domProps:{innerHTML:t._s(t.item.participationMethod)}})]):t._e(),t.item.activityRequirementObj.length?[1===Number(t.item.giftType)?i("van-row",{attrs:{gutter:"8",type:"flex",justify:"space-between"}},[t._l(t.item.activityRequirementObj,(function(e,s){return[e.pic?i("van-col",{key:s,attrs:{span:"12"}},[i("div",{staticClass:"background-white mb-2 pt-4 pb-2 px-4 radius-1"},[i("van-image",{attrs:{src:t.$portrait(e.pic),width:"81"}}),i("div",{staticClass:"info"},[i("div",{staticClass:"caption-bold mt-2"},[t._v(t._s(e.name))]),i("span",{staticClass:"caption text-grey mt-1"},[t._v(t._s(t.$$t("type_1"))+t._s(t.getTypeText())+t._s(t.$$t("type_2")))]),i("div",{staticClass:"main-text mt-1"},[t._v(" "+t._s(t.currencySymbol)+t._s(e.requirement)+t._s(t.currencyDenomination)+" ")])]),i("div",{staticClass:"btn caption mt-1 mb-1"},[i("van-button",{attrs:{round:"",block:"",type:"info",size:"mini"},on:{click:function(i){return t.onActivityReceive(e)}}},[t._v(t._s(t.$$t("receive"))+" ")])],1)],1)]):t._e()]}))],2):i("div",{staticClass:"pa-3 background-white radius-2"},[i("table",{staticClass:"table_activity mt-1"},[i("tr",[i("th",{staticClass:"van-toast__text"},[t._v(t._s(t.item.activityCalculationCycleDesc)+" "+t._s(t.getTypeText()))]),i("th",{staticClass:"van-toast__text"},[t._v(t._s(t.item.giftTypeDesc))]),i("th",{staticClass:"van-toast__text"},[t._v(t._s(t.$$t("betMultiple")))])]),t._l(t.item.activityRequirementObj,(function(e,s){return[i("tr",{key:s,class:{tr_bg_color:s%2}},[i("td",[t._v(t._s(t.item.currencySymbol)+t._s(e.requirement)+t._s(t.item.currencyDenomination))]),i("td",[t._v(t._s(t.item.currencySymbol)+t._s(e.bonus)+t._s(t.item.currencyDenomination))]),0===s?i("td",{attrs:{rowspan:Number(t.item.activityRequirementObj.length)}},[t._v(" "+t._s(Number(t.item.betMultiple)>0?t.item.betMultiple+t.$$t("betMultiple_1"):t.$$t("betMultiple_2"))+" ")]):t._e()])]}))],2)])]:t._e()],2),t.item.ruleDescription?i("div",{staticClass:"background-white px-4 py-5 text-left mt-4 rule-color radius-2"},[i("div",{staticClass:"rule-title text-center mb-5"},[i("span",[t._v(t._s(t.$$t("rules")))])]),i("div",{domProps:{innerHTML:t._s(t.item.ruleDescription)}})]):t._e()],2)])],1)]),4!==t.item.requirementType||["SGGC"].includes(t.skgCodeKey)?t._e():i("van-tabbar",{staticClass:"py-4",attrs:{fixed:""}},[i("div",{staticClass:"btn px-4"},[i("van-button",{attrs:{hairline:"",block:"",color:"linear-gradient(to right, rgb(154, 187, 255), rgb(70, 132, 255))"},on:{click:t.goApply}},[t._v(" "+t._s(t.$$t("apply"))+" ")])],1)])],1)}),[],!1,null,"ff5de4fa",null);e.default=c.exports},bdd4:function(t,e,i){"use strict";i("327b")}}]);