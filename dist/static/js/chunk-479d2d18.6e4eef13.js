(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-479d2d18"],{"029e":function(e,t,i){},"96a6":function(e,t,i){"use strict";i("029e")},afd8:function(e,t,i){"use strict";i("4de4"),i("a9e3");t.a={countryCodes:[{english_name:"Chinese",chinese_name:"中国",country_code:"CN",phone_code:"86"},{english_name:"United States",chinese_name:"美国",country_code:"US",phone_code:"1"},{english_name:"Vietnam",chinese_name:"越南",country_code:"VN",phone_code:"84"},{english_name:"Thailand",chinese_name:"泰国",country_code:"TH",phone_code:"66"},{english_name:"Indonesia",chinese_name:"印度尼西亚",country_code:"ID",phone_code:"62"},{english_name:"India",chinese_name:"印度",country_code:"IN",phone_code:"91"}],getPhoneCode:function(e){if(!e)return"";var t=this.countryCodes.filter((function(t){return t.country_code===e}));return t.length>0?t[0].phone_code:""},getCountryCode:function(e){if(!e)return"";var t=this.countryCodes.filter((function(t){return Number(t.phone_code)===Number(e)}));return t.length>0?t[0].country_code:""}}},e36c:function(e,t,i){"use strict";i.r(t);i("99af"),i("fb6a");var n=i("c28f"),o=i("afd8"),l={name:"MemberDetails",mixins:[n.a],data:function(){return{show:!1,fieldValue:"",url:"",title:"",showEmail:!1,showTel:!1,confirmButton:!1,eForm:{email:"",code:"",key:""}}},computed:{getEmailText:function(){return this.memberInfo&&this.memberInfo.email?this.siteConfig&&this.siteConfig.isOpenEmailVerification?this.memberInfo&&this.memberInfo.isEmailVerified?this.memberInfo.email:this.memberInfo.email+this.$$t("unV"):this.memberInfo.email||this.$t("common.unSet"):this.$t("common.unSet")},getPhoneCode:function(){var e=this.culture.substring(5,3);return this.$route.query.phone_code||o.a.getPhoneCode(e)}},methods:{changeUrl:function(e){if("memberName"===e&&(this.url="/api/Account/ModifiyMemName?memberName=",this.title=this.$$t("memberName")),"tel"===e)return this.title=this.$$t("tel"),void(this.showTel=!0);if("wechat"===e&&(this.url="/api/Account/ModifiyMemWechat?wechat=",this.title=this.$$t("wechat")),"email"===e){if(this.memberInfo.isEmailVerified)return void this.$info(this.$$t("kf"));if(this.siteConfig.isOpenEmailVerification)return void(this.showEmail=!0);this.url="/api/Account/ModifiyMemEmail?email=",this.title=this.$$t("email")}"qq"===e&&(this.url="/api/Account/ModifiyMemQq?qq=",this.title=this.$$t("qq")),"zalo"===e&&(this.url="/api/Account/ModifiyField?fieldName=zalo&fieldValue=",this.title="Zalo"),"telegram"===e&&(this.url="/api/Account/ModifiyField?fieldName=telegram&fieldValue=",this.title="Telegram"),"facebook"===e&&(this.url="/api/Account/ModifiyField?fieldName=facebook&fieldValue=",this.title="Facebook"),this.show=!0},changeInfo:function(){var e=this;if("/api/Account/ModifiyMemName?memberName="===this.url)if("CNY"===this.memberInfo.currencyCode){if(this.fieldValue.length<2||this.fieldValue.length>15)return void this.$toast("".concat(this.$$t("memberName")).concat(this.$t("validate.incorrectLength"),"(2-15)"))}else{if(this.fieldValue.length<4||this.fieldValue.length>30)return void this.$toast("".concat(this.$$t("memberName")).concat(this.$t("validate.incorrectLength"),"(4-30)"));if(" "===this.fieldValue[0]||" "===this.fieldValue.slice(-1))return void this.$toast(this.$t("validate.spaceMoreOne"))}null!==this.fieldValue&&""!==this.fieldValue?this.$post(this.url+this.fieldValue).then((function(t){return e.checkResp(t,(function(e){return!0===e.data.success}))})).then((function(t){e.$toast(t.data),e.fieldValue=null,e.getMemberInfo()})).catch((function(t){e.fieldValue=null,e.procError(t)})):this.$toast(this.$t("common.noNull"))},changeTel:function(){var e=this;null!==this.fieldValue&&""!==this.fieldValue?this.$post("/api/Account/ModifiyMemTel?tel=".concat(this.fieldValue,"&telPrefix=").concat(this.getPhoneCode)).then((function(t){return e.checkResp(t,(function(e){return!0===e.data.success}))})).then((function(t){e.$toast(t.data),e.fieldValue=null,e.getMemberInfo()})).catch((function(t){e.fieldValue=null,e.procError(t)})):this.$toast(this.$t("common.noNull"))},getMemberInfo:function(){var e=this;this.$post("/api/Account/GetUserInfo").then((function(t){return e.checkResp(t,(function(e){return!0===e.data.success}))})).then((function(t){var i=t.data;e.$store.commit("setMemberInfo",i)})).catch((function(t){e.procError(t)}))},getEmailVerifyCode:function(){var e=this;this.eForm.email?(this.showProgress(!0),this.$get("/api/Account/GetEmailVerifyCode?email="+this.eForm.email).then((function(t){return e.checkResp(t,(function(e){return!0===e.data.success}))})).then((function(t){e.showProgress(!1),e.eForm.key=t.data,e.confirmButton=!0,e.$success(e.$$t("codeS"))})).catch((function(t){e.showProgress(!1),e.procError(t)}))):this.$info(this.$$t("emailDesc"))},onModifiyMemEmail:function(){var e=this;this.eForm.code?this.$post("/api/Account/ModifiyMemEmail?email=".concat(this.eForm.email,"&code=").concat(this.eForm.code,"&key=").concat(this.eForm.key)).then((function(t){return e.checkResp(t,(function(e){return!0===e.data.success}))})).then((function(t){e.getMemberInfo(),sessionStorage.removeItem("SiteConfig"),e.showEmail=!1,e.getSiteConfig(),e.$success(t.data)})).catch((function(t){e.showEmail=!1,e.procError(t)})):this.$info(this.$$t("codeDesc"))},confirmButtonClick:function(){this.confirmButton?this.onModifiyMemEmail():this.getEmailVerifyCode()},$$t:function(e){return this.$t("memberDetails."+e)}}},a=(i("96a6"),i("2877")),c=Object(a.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"memberDetails"}},[i("EasyRefresh",{attrs:{userSelect:!1,bouncing:!1}},[i("van-cell-group",{staticClass:"memberDetails-top"},[i("van-cell",{attrs:{title:e.$$t("memberName"),value:e.memberInfo&&e.memberInfo.memberName||e.$t("common.unSet"),size:"large","is-link":""},on:{click:function(t){return e.changeUrl("memberName")}}}),i("van-cell",{attrs:{title:e.$$t("tel"),value:e.memberInfo&&e.memberInfo.tel||e.$t("common.unSet"),size:"large","is-link":""},on:{click:function(t){return e.changeUrl("tel")}}})],1),i("van-cell-group",{staticClass:"memberDetails-bt"},[i("van-cell",{attrs:{title:e.$$t("wechat"),value:e.memberInfo&&e.memberInfo.wechat||e.$t("common.unSet"),size:"large","is-link":""},on:{click:function(t){return e.changeUrl("wechat")}}}),i("van-cell",{attrs:{title:e.$$t("email"),value:e.getEmailText,size:"large","is-link":""},on:{click:function(t){return e.changeUrl("email")}}}),i("van-cell",{attrs:{title:e.$$t("qq"),value:e.memberInfo&&e.memberInfo.qq||e.$t("common.unSet"),size:"large","is-link":""},on:{click:function(t){return e.changeUrl("qq")}}}),i("van-cell",{attrs:{title:"Zalo",value:e.memberInfo&&e.memberInfo.zalo||e.$t("common.unSet"),size:"large","is-link":""},on:{click:function(t){return e.changeUrl("zalo")}}}),i("van-cell",{attrs:{title:"Telegram",value:e.memberInfo&&e.memberInfo.telegram||e.$t("common.unSet"),size:"large","is-link":""},on:{click:function(t){return e.changeUrl("telegram")}}}),i("van-cell",{attrs:{title:"Facebook",value:e.memberInfo&&e.memberInfo.faceBook||e.$t("common.unSet"),size:"large","is-link":""},on:{click:function(t){return e.changeUrl("facebook")}}})],1)],1),i("van-dialog",{attrs:{title:e.title,"show-cancel-button":""},on:{confirm:e.changeInfo},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[i("van-cell-group",[i("van-field",{attrs:{placeholder:e.$$t("fieldValueDesc")},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}})],1)],1),i("van-dialog",{attrs:{title:e.title,"show-cancel-button":""},on:{confirm:e.changeTel},model:{value:e.showTel,callback:function(t){e.showTel=t},expression:"showTel"}},[i("van-cell-group",[i("van-field",{attrs:{placeholder:e.$$t("fieldValueDesc")},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}},[i("div",{attrs:{slot:"left-icon"},on:{click:function(t){return e.redirectRouter("searchCountry")}},slot:"left-icon"},[i("div",{staticClass:"flex align-items-center"},[i("div",{staticClass:"mr-1"},[e._v(e._s("+"+e.getPhoneCode))]),i("van-icon",{attrs:{name:"arrow-down"}})],1)])])],1)],1),i("van-dialog",{staticClass:"emailDialog",attrs:{title:""+e.$$t("update")+e.$$t("email"),closeOnClickOverlay:"",showConfirmButton:!1},model:{value:e.showEmail,callback:function(t){e.showEmail=t},expression:"showEmail"}},[i("div",{staticClass:"subtitle-1 mb-2"},[e._v(e._s(e.$$t("email")))]),i("van-field",{attrs:{placeholder:e.$$t("fieldValueDesc")},model:{value:e.eForm.email,callback:function(t){e.$set(e.eForm,"email",t)},expression:"eForm.email"}}),i("div",{staticClass:"subtitle-1 mb-2 mt-6"},[e._v(e._s(e.$$t("code")))]),i("van-field",{attrs:{placeholder:e.$$t("fieldValueDesc")},model:{value:e.eForm.code,callback:function(t){e.$set(e.eForm,"code",t)},expression:"eForm.code"}}),i("van-button",{staticClass:"mt-10 mb-5",attrs:{color:"linear-gradient(to right, rgb(129, 170, 255), rgb(70, 132, 255))",block:""},on:{click:e.confirmButtonClick}},[e._v(" "+e._s(e.confirmButton?e.$$t("vCode"):e.$$t("getCode"))+" ")])],1)],1)}),[],!1,null,"4913849f",null);t.default=c.exports}}]);