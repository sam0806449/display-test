(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7df970fa"],{"9bff":function(t,e,s){"use strict";s.r(e);s("99af"),s("a9e3");var a=s("2909"),n=s("6a57"),i={name:"TransferRecord",data:function(){return{dropdownTitle:"",date:0,pageIndex:1,items:[]}},computed:{startDate:function(){return 60===this.date?Object(n.d)(Object(n.c)(new Date,2),"yyyy-MM-dd"):30===this.date?Object(n.d)(Object(n.c)(new Date,1),"yyyy-MM-dd"):7===this.date?Object(n.d)(Object(n.b)(new Date,7),"yyyy-MM-dd"):3===this.date?Object(n.d)(Object(n.b)(new Date,2),"yyyy-MM-dd"):2===this.date?Object(n.d)(Object(n.b)(new Date,1),"yyyy-MM-dd"):Object(n.d)(Object(n.b)(new Date,0),"yyyy-MM-dd")},dateOptions:function(){return[{text:this.$$t("lastMonth"),value:60},{text:this.$$t("nearlyAMonth"),value:30},{text:this.$$t("nearlySevenDays"),value:7},{text:this.$$t("nearlyTwoDays"),value:3},{text:this.$$t("yesterday"),value:2},{text:this.$$t("today"),value:1}]},endDate:function(){var t=Number(this.date);return 7===t||1===t||30===t||60===t?Object(n.d)(new Date,"yyyy-MM-dd"):Object(n.d)(Object(n.b)(new Date,t-1),"yyyy-MM-dd")}},watch:{date:function(){this.items=[],this.pageIndex=1,this.onRefresh()}},created:function(){this.dropdownTitle=this.$$t("today"),this.onLoad()},methods:{onLoad:function(t){var e=this;this.showProgress(),this.$get("/api/Game/QueryGameMoneyChangeLog?&pageSize=10&pageIndex=".concat(this.pageIndex,"&startDate=").concat(this.startDate,"&endDate=").concat(this.endDate)).then((function(t){return e.checkResp(t,(function(t){return!0===t.data.success}))})).then((function(s){var n,i=s.data;(e.pageIndex=e.pageIndex+1,e.refresh)?(e.items=[],e.items=i.items,t&&(e.refresh=!1,t())):i.items.length>0?((n=e.items).push.apply(n,Object(a.a)(i.items)),t&&t(!1)):t&&t(!0);e.showProgress(!1)})).catch((function(t){e.showProgress(!1),e.procError(t)}))},onRefresh:function(t){this.refresh=!0,this.pageIndex=1,this.onLoad(t)},getSymbol:function(t){return 2===t?"-":"+"},typeClick:function(t){this.dropdownTitle=t.text,this.date=t.value,this.$refs.type.toggle()},getRecordType:function(t){return 1===Number(t)?this.$$t("type_1"):this.$$t("type_0")},$$t:function(t){return this.$t("transferRecord."+t)}}},r=(s("beb6"),s("2877")),c=Object(r.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"transferRecord"}},[s("div",{staticClass:"flex space-between align-items-center mt-3 px-4"},[s("van-dropdown-menu",{attrs:{"active-color":"rgb(70 132 255)"}},[s("van-dropdown-item",{ref:"type",attrs:{title:t.dropdownTitle}},[s("div",{staticClass:"dropdown-warp"},[s("div",{staticClass:"btns"},t._l(t.dateOptions,(function(e,a){return s("div",{key:a,staticClass:"btn",class:{active:t.date===e.value},on:{click:function(s){return t.typeClick(e)}}},[s("span",[t._v(t._s(e.text))])])})),0)])])],1),s("div",{staticClass:"text-grey body-2"},[t._v(t._s(t.$$t("titleDesc")))])],1),s("div",{staticClass:"transferRecord-warp"},[s("scroll-view",{attrs:{onRefresh:t.onRefresh,loadMore:t.onLoad}},[s("div",{staticClass:"pb-3"},[s("div",{staticClass:"transferRecords"},[t.items.length>0?s("div",{staticClass:"px-4 background-white"},[t._l(t.items,(function(e,a){return[s("div",{key:a},[s("div",{staticClass:"detail text-left py-3"},[s("div",{staticClass:"left"},[s("div",{staticClass:"title"},[t._v(" "+t._s(t.getRecordType(e.changeType))+t._s(e.currencySymbol)+t._s(e.changeMoneyY)+t._s(t.currencyDenomination)+" ")]),s("div",{staticClass:"subtitle-1 mt-3"},[t._v(t._s(e.orderNo))])]),s("div",{staticClass:"right"},[0===Number(e.status)?s("div",{staticClass:"status-1"},[t._v(t._s(t.$$t("status_0")))]):1===Number(e.status)?s("div",{staticClass:"status-1"},[t._v(t._s(t.$$t("status_1"))+" ")]):2===Number(e.status)?s("div",{staticClass:"status-2"},[t._v(t._s(t.$$t("status_2"))+" ")]):s("div",{staticClass:"status-cancel"},[t._v(t._s(t.$$t("status_3")))]),s("div",{staticClass:"mt-3 body-2",staticStyle:{color:"rgb(153, 153, 153)"}},[t._v(t._s(t.formatDateSS(e.changeTime)))])])]),s("van-divider",{directives:[{name:"show",rawName:"v-show",value:a<t.items.length,expression:"index < items.length"}]})],1)]}))],2):s("van-empty",{staticClass:"text-center background-white",attrs:{description:t.$t("common.noMore")},scopedSlots:t._u([{key:"image",fn:function(){return[s("van-image",{attrs:{src:"/images/empty/no-more.png",width:"280",height:"130"}})]},proxy:!0}])})],1)])])],1)])}),[],!1,null,"4d6ae5c4",null);e.default=c.exports},a794:function(t,e,s){},beb6:function(t,e,s){"use strict";s("a794")}}]);