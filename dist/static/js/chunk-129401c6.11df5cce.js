(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-129401c6"],{"256b":function(t,s,e){},"6c12":function(t,s,e){"use strict";e("256b")},"985c":function(t,s,e){"use strict";e.r(s);e("b0c0"),e("a9e3"),e("b680");var a={name:"Ranks",mixins:[e("c28f").a],data:function(){return{ranks:[],tab:0,betMoney:0,showBetPopup:!1,moneyArrs:[10,50,100],betMatchItem:{},handlingFee:null,isOpenWeekRanks:!1,isOpenMonthRanks:!1}},computed:{expectedMoney:function(){return this.betMoney<1?0:(Number(this.betMoney)*(1+this.betMatchItem.odds/100)).toFixed(2)},handlingFeeMoney:function(){if(Number(this.betMoney)<1)return 0;var t=Number(this.betMoney)*(this.betMatchItem.odds/100)*(Number(this.handlingFee)/100);return this.currencySymbol+t.toFixed(2)+this.currencyDenomination},tabs:function(){return this.isOpenWeekRanks&&this.isOpenMonthRanks?[{title:this.$$t_ranks("tab_0"),name:"0"},{title:this.$$t_ranks("tab_1"),name:"1"}]:this.isOpenWeekRanks?[{title:this.$$t_ranks("tab_0"),name:"0"}]:this.isOpenMonthRanks?[{title:this.$$t_ranks("tab_1"),name:"1"}]:[]},warpsStyle:function(){return this.tabs.length>0?{top:"2.1867rem"}:{top:"1.013rem"}}},created:function(){this.onGetMatchConfig()},methods:{onLoadRanks:function(){var t=this;this.showProgress(),this.$get("/api/Match/GetRanks?type=".concat(this.tab)).then((function(s){return t.checkResp(s,(function(t){return!0===t.data.success}))})).then((function(s){t.ranks=s.data,t.showProgress(!1)})).catch((function(s){t.ranks=[],t.showProgress(!1),t.procError(s)}))},onBetClick:function(t){this.betMatchItem=t,this.showBetPopup=!0},onBet:function(){var t=this;Number(this.memberData.balance)<Number(this.betMoney)?this.$info(this.$$t("balance_t")):Number(this.betMoney)<1?this.$info(this.$$t("betMoney_t")):(this.showProgress(),this.$post("/api/Match/Bet",{betMoney:this.betMoney,matchItemObjId:this.betMatchItem.matchItemObjId}).then((function(s){return t.checkResp(s,(function(t){return!0===t.data.success}))})).then((function(){t.showProgress(!1),t.betMoney=0,t.betMatchItem={},t.showBetPopup=!1,t.initMemberData(),t.$success(t.$$t("betSuccess"))})).catch((function(s){t.showProgress(!1),t.procError(s)})))},onGetMatchConfig:function(){var t=this;this.$get("/api/Match/GetMatchConfig").then((function(s){return t.checkResp(s,(function(t){return!0===t.data.success}))})).then((function(s){var e=s.data;t.handlingFee=e.handlingFee,t.isOpenWeekRanks=e.isOpenWeekRanks,t.isOpenMonthRanks=e.isOpenMonthRanks,t.showProgress(!1),(t.isOpenWeekRanks||t.isOpenMonthRanks)&&(t.tab=t.tabs[0].name,t.onLoadRanks())})).catch((function(s){t.showProgress(!1),t.procError(s)}))},setBetMoney:function(t){this.betMoney=t||Math.floor(Number(this.memberData.balance))},parseStringToStar:function(t){return t.substr(0,t.length-3)+"***"},$$t:function(t){return this.$t("bets."+t)},$$t_ranks:function(t){return this.$t("ranks."+t)}}},n=(e("6c12"),e("2877")),i=Object(n.a)(a,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"ranks"}},[2===t.tabs.length?e("van-tabs",{attrs:{animated:"",ellipsis:"",swipeable:"","title-active-color":"rgb(64, 128, 255)","title-inactive-color":"rgb(153, 153, 153)",color:"rgb(64, 128, 255)"},on:{change:t.onLoadRanks},model:{value:t.tab,callback:function(s){t.tab=s},expression:"tab"}},[t._l(t.tabs,(function(t,s){return[e("van-tab",{key:s,attrs:{title:t.title,name:t.name}})]}))],2):1===t.tabs.length?e("div",{staticClass:"tabs_ranks"},[t._l(t.tabs,(function(s,a){return[e("div",{key:a,staticClass:"subtitle-1",staticStyle:{color:"rgb(64, 128, 255)"}},[t._v(" "+t._s(s.title)+" ")])]}))],2):t._e(),e("van-row",{staticClass:"ranks_header caption mt-1 text-grey_1",attrs:{gutter:"4",type:"flex",justify:"space-between",align:"center"}},[e("van-col",{attrs:{span:"6"}},[t._v(t._s(t.$$t_ranks("memberAccount")))]),e("van-col",{attrs:{span:"6"}},[t._v(t._s(t.$$t_ranks("profitRate")))]),e("van-col",{attrs:{span:"6"}},[t._v(t._s(t.$$t_ranks("totalProfit")))]),e("van-col",{attrs:{span:"6"}},[t._v(t._s(t.$$t_ranks("recommend")))])],1),e("div",{staticClass:"ranks-warps",style:t.warpsStyle},[e("scroller",{attrs:{userSelect:!1}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.ranks.length>0,expression:"ranks.length > 0"}],staticClass:"py-2 caption background-white subtitle-1"},[t._l(t.ranks,(function(s,a){return[e("van-row",{key:a,staticClass:"py-2",attrs:{type:"flex",justify:"space-between",align:"center",gutter:"4"}},[e("van-col",{staticClass:"text-left flex pl-3",attrs:{span:"6"}},[a<3?e("van-icon",{staticClass:"mr-1",attrs:{name:"/images/ranks/award"+(a+1)+".png",size:"22"}}):e("div",[t._v(" "+t._s(a+1)+". ")]),t._v(" "+t._s(t.parseStringToStar(s.memberAccount))+" ")],1),e("van-col",{staticClass:"profitRate",attrs:{span:"6"}},[t._v(t._s(s.profitRate)+"%")]),e("van-col",{staticClass:"subtitle-3",attrs:{span:"6"}},[t._v(" "+t._s(t.currencySymbol)+t._s(s.totalProfit)+t._s(t.currencyDenomination)+" ")]),e("van-col",{attrs:{span:"6"}},[e("van-button",{attrs:{type:"info",size:"mini",round:""},on:{click:function(e){return t.onBetClick(s.recommendedOdds)}}},[e("span",{staticClass:"px-1"},[t._v(t._s(t.$$t_ranks("bet_btn")))])])],1)],1),e("van-divider",{directives:[{name:"show",rawName:"v-show",value:t.ranks.length-1>a,expression:"ranks.length-1 > index"}],staticClass:"ma-0 px-4"})]}))],2),e("van-empty",{directives:[{name:"show",rawName:"v-show",value:t.ranks.length<1,expression:"ranks.length < 1"}],staticClass:"text-center",attrs:{description:t.$t("common.noMore")},scopedSlots:t._u([{key:"image",fn:function(){return[e("van-image",{attrs:{src:"images/empty/no-more.png",width:"280",height:"130"}})]},proxy:!0}])})],1)],1),e("van-popup",{staticClass:"betPopup",attrs:{position:"bottom",round:""},model:{value:t.showBetPopup,callback:function(s){t.showBetPopup=s},expression:"showBetPopup"}},[e("div",{staticClass:"pt-3 mb-10"},[e("div",{staticClass:"mb-4 px-3"},[e("div",{staticClass:"subtitle-1"},[t._v(" "+t._s(t.$$t("balance"))+"："+t._s(t.currencySymbol)+t._s(t.memberData&&t.memberData.balance)+t._s(t.currencyDenomination)+" ")]),e("div",{staticClass:"macth_info radius-2 pt-2 pb-4 mt-2 white-text"},[e("div",{staticClass:"subtitle-5"},[t._v(t._s(1===Number(t.tab)?t.$$t("full"):t.$$t("half"))+" "+t._s(t.betMatchItem&&t.betMatchItem.score)+" ")]),e("div",{staticClass:"caption mt-1"},[t._v(t._s(t.betMatchItem&&t.betMatchItem.leagueName))]),e("van-row",{staticClass:"mt-3 px-2",attrs:{align:"center"}},[e("van-col",{attrs:{span:"10"}},[e("div",{staticClass:"subtitle-1"},[t._v(t._s(t.betMatchItem&&t.betMatchItem.homeTeamName))])]),e("van-col",{attrs:{span:"4"}},[e("van-image",{attrs:{src:"images/ucs/vs_match.png",width:"31",height:"22"}})],1),e("van-col",{attrs:{span:"10"}},[e("div",{staticClass:"subtitle-1"},[t._v(t._s(t.betMatchItem&&t.betMatchItem.awayTeamName))])])],1)],1)]),e("div",{staticClass:"divider_match"}),e("van-row",{staticClass:"mt-3",attrs:{align:"center"}},[e("van-col",{attrs:{span:"8"}},[e("div",{staticClass:"caption ucs-text"},[t._v(t._s(t.$$t("money")))])]),e("van-col",{attrs:{span:"8"}},[e("div",{staticClass:"caption ucs-text"},[t._v(t._s(t.$$t("odds")))])]),e("van-col",{attrs:{span:"8"}},[e("div",{staticClass:"caption ucs-text"},[t._v(t._s(t.$$t("handlingFee")))])])],1),e("van-row",{staticClass:"mt-3",attrs:{align:"center"}},[e("van-col",{attrs:{span:"8"}},[e("div",{},[e("van-field",{staticClass:"betMoney_input",attrs:{type:"digit",maxlength:"8"},model:{value:t.betMoney,callback:function(s){t.betMoney=s},expression:"betMoney"}})],1)]),e("van-col",{attrs:{span:"8"}},[e("div",{staticClass:"subtitle-1 ucs-text"},[t._v("X"+t._s(t.betMatchItem&&t.betMatchItem.odds)+"%")])]),e("van-col",{attrs:{span:"8"}},[e("div",{staticClass:"subtitle-1 ucs-text"},[t._v(t._s(t.handlingFee)+"%")])])],1),e("van-row",{staticClass:"mt-3",attrs:{gutter:"4",type:"flex",justify:"center",align:"center"}},[t._l(t.moneyArrs,(function(s){return[e("van-col",{key:s},[e("van-button",{attrs:{size:"mini",plain:"",hairline:"",type:"info"},on:{click:function(e){return t.setBetMoney(s)}}},[e("span",{staticClass:"px-6 ucs-text"},[t._v(t._s(s))])])],1)]})),e("van-col",[e("van-button",{attrs:{size:"mini",plain:"",hairline:"",type:"info"},on:{click:function(s){return t.setBetMoney(null)}}},[e("span",{staticClass:"px-6 ucs-text"},[t._v(t._s(t.$t("common.all")))])])],1)],2),e("van-divider",{staticClass:"ma-0 mt-3",style:{color:"#7e838f",borderColor:"#7e838f",padding:"0 16px"}}),e("van-row",{staticClass:"mt-3 px-4 subtitle-1",attrs:{align:"center"}},[e("van-col",{attrs:{span:"12"}},[e("div",{staticClass:"text-left",staticStyle:{color:"#f1994a"}},[t._v(" "+t._s(t.$$t("expectedMoney"))+"："+t._s(t.currencySymbol)+t._s(t.expectedMoney)+t._s(t.currencyDenomination)+" ")])]),e("van-col",{attrs:{span:"12"}},[e("div",{staticClass:"subtitle-1 ucs-text text-right"},[t._v(" "+t._s(t.$$t("handlingFee"))+"："+t._s(t.handlingFeeMoney)+" ")])])],1),e("div",{staticClass:"px-4 mt-6"},[e("van-button",{attrs:{color:"linear-gradient(to right, rgb(129, 170, 255), rgb(70, 132, 255))",block:"",round:""},on:{click:t.onBet}},[e("span",{staticClass:"subtitle-5"},[t._v(t._s(t.$$t("onBet")))])])],1)],1)])],1)}),[],!1,null,"64512298",null);s.default=i.exports}}]);