(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-66a24e3b"],{"0d51":function(t,e,s){},bc3f:function(t,e,s){"use strict";s("0d51")},d1da:function(t,e,s){"use strict";s.r(e);s("99af"),s("a9e3"),s("ac1f"),s("1276");var a=s("2909"),i=s("6a57"),n={name:"BetLists",data:function(){return{recordType:"",dropdownTitle:"",dateDropdownTitle:"",date:1,refresh:!1,pageIndex:1,items:[]}},created:function(){this.dropdownTitle=this.typeOptions[0].text,this.dateDropdownTitle=this.dateOptions[3].text},activated:function(){this.onRefresh()},computed:{startDate:function(){return 7===this.date?Object(i.d)(Object(i.b)(new Date,7),"yyyy-MM-dd"):3===this.date?Object(i.d)(Object(i.b)(new Date,2),"yyyy-MM-dd"):2===this.date?Object(i.d)(Object(i.b)(new Date,1),"yyyy-MM-dd"):Object(i.d)(Object(i.b)(new Date,0),"yyyy-MM-dd")},dateOptions:function(){return[{text:this.$$t("nearlySevenDays"),value:7},{text:this.$$t("nearlyTwoDays"),value:3},{text:this.$$t("yesterday"),value:2},{text:this.$$t("today"),value:1}]},typeOptions:function(){return[{text:this.$$t("all"),value:""},{text:this.$$t("type_1"),value:"0"},{text:this.$$t("type_2"),value:"2"},{text:this.$$t("type_3"),value:"1"},{text:this.$$t("type_4"),value:"-1"}]},endDate:function(){var t=Number(this.date);return 7===t||1===t?Object(i.d)(new Date,"yyyy-MM-dd"):Object(i.d)(Object(i.b)(new Date,Number(t-1)),"yyyy-MM-dd")}},methods:{onLoad:function(t){var e=this;this.showProgress(),this.$get("/api/Lottery/GetDropBillRecord?status=".concat(this.recordType,"&pageIndex=").concat(this.pageIndex,"&pageSize=20&startDate=").concat(this.startDate,"&endDate=").concat(this.endDate)).then((function(t){return e.checkResp(t,(function(t){return!0===t.data.success}))})).then((function(s){var i,n=s.data;(e.pageIndex=e.pageIndex+1,e.refresh)?(e.items=[],e.items=n.items,t&&(e.refresh=!1,t())):n.items.length>0?((i=e.items).push.apply(i,Object(a.a)(n.items)),t&&t(!1)):t&&t(!0);e.showProgress(!1)})).catch((function(s){t&&t(!0),e.showProgress(!1),e.procError(s)}))},onLoadMore:function(t){this.refresh=!1,this.onLoad(t)},onRefresh:function(t){this.refresh=!0,this.pageIndex=1,this.onLoad(t)},timeClick:function(t){this.$refs.betLists_scroll.goTop(),this.dateDropdownTitle=t.text,this.date=t.value,this.items=[],this.onRefresh(),this.$refs.date.toggle()},typeClick:function(t){this.$refs.betLists_scroll.goTop(),this.dropdownTitle=t.text,this.recordType=t.value,this.items=[],this.onRefresh(),this.$refs.type.toggle()},getColors:function(t){if(""!==t&&null!==t&&t){var e=t.split(",");return e.length>1?e[0]+"_"+e[1]:e[0]}},getRpsBankerLists:function(t){var e=t.betContent.split("_"),s=[];return s.push("Banker_"+e[0]),s.push("Player_"+e[1]),"Rps_Banker_Player"===t.playType?s:t.betContent.split(",")},goDetails:function(t){sessionStorage.setItem("betLists-Data",JSON.stringify(t)),this.$router.push("betLists/details")},getPaigowArray:function(t){return t.split("&")},$$t:function(t){return this.$t("betLists."+t)}}},r=(s("bc3f"),s("2877")),o=Object(r.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"betLists"}},[s("van-dropdown-menu",{attrs:{"active-color":"rgb(70 132 255)"}},[s("van-dropdown-item",{ref:"type",attrs:{title:t.dropdownTitle}},[s("div",{staticClass:"dropdown-warp"},[s("div",{staticClass:"title"},[t._v(t._s(t.$$t("chooseType")))]),s("div",{staticClass:"btns"},t._l(t.typeOptions,(function(e,a){return s("div",{key:a,staticClass:"btn van-ellipsis",class:{active:t.recordType===e.value},on:{click:function(s){return t.typeClick(e)}}},[s("span",[t._v(t._s(e.text))])])})),0)])]),s("van-dropdown-item",{ref:"date",attrs:{title:t.dateDropdownTitle}},[s("div",{staticClass:"dropdown-warp"},[s("div",{staticClass:"btns"},t._l(t.dateOptions,(function(e,a){return s("div",{key:a,staticClass:"btn van-ellipsis",class:{active:t.date===e.value},on:{click:function(s){return t.timeClick(e)}}},[s("span",[t._v(t._s(e.text))])])})),0)])])],1),s("div",{staticClass:"betLists"},[s("scroll-view",{ref:"betLists_scroll",attrs:{onRefresh:t.onRefresh,loadMore:t.onLoadMore}},[t.items.length>0?s("div",{staticClass:"px-4 pt-3 pb-4"},t._l(t.items,(function(e,a){return s("div",{key:a,staticClass:"betList background-white van-hairline--surround radius-2 px-3 mb-2",on:{click:function(s){return t.goDetails(e)}}},[s("div",{staticClass:"top flex space-between align-items-center van-hairline--top-bottom"},[s("div",{staticClass:"caption"},[t._v(t._s(e.createTime))]),s("div",{staticClass:"caption text-grey"},[t._v(t._s(t.datesMaker(e.dates))+" ")])]),s("div",{staticClass:"py-2 radius-1"},[s("van-row",{attrs:{type:"flex",justify:"space-between",align:"center"}},[s("van-col",{attrs:{span:"22"}},[s("van-row",{attrs:{type:"flex",justify:"space-between"}},[s("van-col",{staticClass:"text-left caption-bold",attrs:{span:"12"}},[t._v(t._s(e.lotteryName))]),s("van-col",{attrs:{span:"12"}},[s("div",{staticClass:"caption-bold text-right",class:{status_0:0===Number(e.status),status_1:1===Number(e.status)}},[t._v(" "+t._s(e.statusDesc)+" ")])])],1),s("van-row",{attrs:{type:"flex",justify:"space-between"}},[s("van-col",{attrs:{span:"20"}},[s("div",{staticClass:"mt-2 text-left"},["Single"===e.playType?s("div",{staticClass:"betContent caption-bold"},[t._v(" "+t._s(e.betContent)+" ")]):"Rps"===e.groupName?s("div",["Rps_Banker_Player"===e.playType?s("div",[t._l(t.getRpsBankerLists(e),(function(t,e){return[s("van-image",{key:e,staticClass:"mr-1",attrs:{src:"/images/lottery/rps/"+t+".png",width:"24",height:"24"}})]}))],2):"Rps_Mora"===e.playType?s("div",["zh-CN"===t.culture?s("van-image",{attrs:{src:"/images/lottery/rps/"+e.betContent+".png",width:"24",height:"24"}}):s("van-image",{attrs:{src:"/images/lottery/rps/"+e.betContent+"_en.png",width:"24",height:"24"}})],1):s("van-image",{attrs:{src:"/images/lottery/rps/"+e.betContent+".png",width:"24",height:"24"}})],1):"Guess"===e.playType?s("van-image",{attrs:{src:"/images/lottery/guess/"+e.betContent+".png",height:"24"}}):"DoubleSide"===e.playType?s("div",{staticClass:"subtitle-1 "},[t._v(" "+t._s(e.betContentName)+" ")]):"SicBo"===e.groupName?s("div",{staticClass:"flex align-items-center"},["Sum"===e.playType?s("div",{staticClass:"subtitle-3"},[t._v(" "+t._s(e.betContent)+"("+t._s(e.playTypeName)+") ")]):s("div",{staticClass:"flex align-items-center"},t._l(t.getPaigowArray(e.betContent),(function(t,e){return s("van-image",{key:e,class:{"mr-1":0===e},attrs:{src:"/images/lottery/sicBo/"+t+".png",width:"20",height:"20"}})})),1)]):"Mark6"===e.groupName||"VNSouth"===e.groupName||"SSC"===e.groupName||"PK10"===e.groupName||"K3"===e.groupName?s("div",{staticClass:"van-ellipsis"},[t._v(" ["+t._s(e.playTypeName)+"] "+t._s(e.betContentName)+" ")]):s("van-image",{attrs:{src:"/images/lottery/"+t.getColors(e.betContent)+".png",width:"28",height:"24"}})],1)]),s("van-col",{attrs:{span:"4"}})],1),s("van-row",{attrs:{type:"flex",justify:"space-between"}},[s("van-col",{staticClass:"text-left",attrs:{span:"12"}},[s("div",{staticClass:"caption bet_money mt-2"},[t._v(" "+t._s(t.$t("lottery.betMoney"))+"ï¼š"+t._s(e.currencySymbol)+t._s(e.money)+t._s(e.currencyDenomination)+" ")])]),s("van-col",{attrs:{span:"12"}},[s("div",{staticClass:"caption-bold mt-2 text-right",class:{status_1:1===Number(e.status)}},[t._v(t._s(e.currencySymbol+e.winMoney+e.currencyDenomination)+" ")])])],1)],1),s("van-col",{attrs:{span:"2"}},[s("div",{staticClass:"ml-1"},[s("van-icon",{attrs:{name:"arrow",size:"16"}})],1)])],1)],1)])})),0):s("van-empty",{staticClass:"text-center",attrs:{description:t.$t("common.noMore")},scopedSlots:t._u([{key:"image",fn:function(){return[s("van-image",{attrs:{src:"/images/empty/no-more.png",width:"280",height:"130"}})]},proxy:!0}])})],1)],1)],1)}),[],!1,null,"7300351b",null);e.default=o.exports}}]);