(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-bc878da2"],{3039:function(t,s,a){},7739:function(t,s,a){"use strict";a.r(s);a("b0c0");var e={name:"TaskDetails",activated:function(){this.task=this.$sessionGet("Task-Data")},data:function(){return{activeNames:["1"],task:{}}},methods:{applyTask:function(){var t=this,s=this.$route.query.task_objId;s&&(this.showProgress(),this.$post("/api/Task/ApplyTask?objId="+s).then((function(s){return t.checkResp(s,(function(t){return!0===t.data.success}))})).then((function(){t.showProgress(!1),t.$success(t.$t("task.receiveDesc")),t.$router.push("/app/task")})).catch((function(s){t.showProgress(!1),t.procError(s)})))},goLink:function(){window.open(this.task.taskLink)},$$t:function(t){return this.$t("taskDetails."+t)}},beforeRouteLeave:function(t,s,a){"taskRules"!==t.name&&sessionStorage.removeItem("Task-Data"),a()},beforeRouteEnter:function(t,s,a){t.query.task_objId?a():a("/task")}},i=(a("b218"),a("2877")),n=Object(i.a)(e,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"taskDetails"}},[a("scroller",[a("div",{staticClass:"taskDetails-content"},[a("div",{staticClass:"taskDetails-list"},[a("div",{staticClass:"left"},[a("van-image",{attrs:{width:"46",height:"46",src:t.$portrait(t.task&&t.task.categoryIco)}})],1),a("div",{staticClass:"right"},[a("div",[a("div",{staticClass:"title"},[t._v(t._s(t.task&&t.task.title))])]),a("div",{staticClass:"right-r"},[a("div",{staticClass:"number"},[t._v(t._s(t.currencySymbol)+t._s(t.task&&t.task.price)+t._s(t.currencyDenomination))])])])]),a("div",{staticClass:"desc"},[a("van-cell",{attrs:{title:t.$$t("numbers"),value:""+Number(t.task.applyNum)+t.$$t("done")+"ï¼Œ"+t.$$t("surplus")+(Number(t.task.maxNum)-Number(t.task.applyNum))+t.$$t("piece")}}),a("van-cell",{attrs:{title:t.$$t("createdTime"),value:t.formatDate(t.task&&t.task.createTime)}}),a("van-cell",{attrs:{title:t.$$t("endTime"),value:t.formatDate(t.task&&t.task.endTime)}}),a("van-cell",{attrs:{title:t.$$t("rewardRequest"),value:t.task.info}}),a("van-cell",{attrs:{title:t.$$t("taskLink"),value:t.task.taskLink,"value-class":"value-green"},on:{click:function(s){return s.stopPropagation(),t.goLink(s)}}},[a("van-icon",{staticClass:"ml-2",attrs:{slot:"right-icon",name:"images/common/copy.png",size:"20"},on:{click:function(s){return s.stopPropagation(),t.copyBtnClick(t.task.taskLink)}},slot:"right-icon"})],1),a("div",{staticClass:"desc-task"},[a("div",{staticClass:"flex space-between align-items-center"},[a("div",{staticClass:"title"},[t._v(t._s(t.$$t("description")))]),a("van-icon",{attrs:{name:"images/common/copy.png",size:"20"},on:{click:function(s){return s.stopPropagation(),t.copyBtnClick(t.task.content)}}})],1),a("div",{staticClass:"text"},[a("easyRefresh",{attrs:{userSelect:!1}},[t._v(" "+t._s(t.task.content)+" ")])],1)])],1),a("van-collapse",{model:{value:t.activeNames,callback:function(s){t.activeNames=s},expression:"activeNames"}},[a("van-collapse-item",{attrs:{title:t.$$t("step"),name:"1"}},[a("div",{domProps:{innerHTML:t._s(t.task.stepInfo)}})])],1)],1)]),a("van-tabbar",{attrs:{fixed:""}},[a("van-button",{staticClass:"submit",attrs:{hairline:"",block:"",color:"linear-gradient(to right, rgb(154, 187, 255), rgb(70, 132, 255))"},on:{click:t.applyTask}},[t._v(" "+t._s(t.$$t("recieveTask"))+" ")])],1)],1)}),[],!1,null,"c2023af2",null);s.default=n.exports},b218:function(t,s,a){"use strict";a("3039")}}]);