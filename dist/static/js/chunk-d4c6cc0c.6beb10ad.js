(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d4c6cc0c"],{"11ff":function(e,t,a){"use strict";a("ff65")},ccf4:function(e,t,a){"use strict";a.r(t);var s={name:"SearchGames",data:function(){return{searchText:"",platformCode:"",items:[],game:{}}},created:function(){var e=this.$sessionGet("games-search");this.game=e,this.platformCode=e.platformCode},methods:{getGames:function(){var e=this;this.showProgress(),this.$post("/api/Game/Games",{categoryCode:this.game.categoryCode,platformCode:this.game.platformCode,pageIndex:1,pageSize:100,gameName:this.searchText,source:1}).then((function(t){return e.checkResp(t,(function(e){return!0===e.data.success}))})).then((function(t){var a=t.data;e.items=a.items,e.showProgress(!1)})).catch((function(t){e.showProgress(!1),e.procError(t)}))},onCancel:function(){this.$router.push({path:"gameLists",query:{platformCode:this.game.platformCode,title:this.game.platformName,categoryCode:this.game.categoryCode}})},changeFavorite:function(e){var t=this,a="",s=e.isFavorites;this.isLogin()&&(a=s?"/api/Game/RemoveGameFavorites":"/api/Game/AddGameFavorites",this.showProgress(),this.$get(a+"?platformCode="+e.platformCode+"&gameCode="+e.gameCode).then((function(e){return t.checkResp(e,(function(e){return!0===e.data.success}))})).then((function(){s?t.$success(t.$t("gameLists.delSuccess")):t.$success(t.$t("gameLists.success")),t.getGames(e.categoryCode,e.platformCode)})).catch((function(e){t.showProgress(!1),t.procError(e)})))},$$t:function(e){return this.$t("searchGames."+e)}}},o=(a("11ff"),a("2877")),r=Object(o.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"searchGames"}},[a("van-search",{attrs:{"show-action":"",placeholder:e.$$t("text")},on:{cancel:e.onCancel,search:e.getGames},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),a("div",{staticClass:"games"},[a("scroller",[a("div",{staticClass:"warp pt-2"},[e.items.length>0?a("div",[a("van-row",{attrs:{gutter:15,justify:"space-between"}},e._l(e.items,(function(t,s){return a("van-col",{key:s,attrs:{span:"12"}},[a("div",{staticClass:"top",on:{click:function(a){return e.getGameLoginUrl(e.platformCode,t.gameCode)}}},[a("van-image",{attrs:{height:"164","lazy-load":"",src:e.getGameImg(e.platformCode,t.imageName,t.categoryCode)},scopedSlots:e._u([{key:"loading",fn:function(){return[a("van-loading",{attrs:{type:"spinner",size:"24"}})]},proxy:!0}],null,!0)})],1),a("div",{staticClass:"bottom"},[a("span",[e._v(e._s(t.gameName))]),a("van-icon",{attrs:{name:"/images/games/"+(t.isFavorites?"favorite-active":"favorite")+".png",size:"18"},on:{click:function(a){return e.changeFavorite(t)}}})],1)])})),1)],1):a("van-empty",{staticClass:"text-center",attrs:{description:e.$t("common.noMore")},scopedSlots:e._u([{key:"image",fn:function(){return[a("van-image",{attrs:{src:"/images/empty/no-more.png",width:"280",height:"130"}})]},proxy:!0}])})],1)])],1)],1)}),[],!1,null,"813e4292",null);t.default=r.exports},ff65:function(e,t,a){}}]);