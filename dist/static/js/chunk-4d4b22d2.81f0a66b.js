(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4d4b22d2"],{"0fe0":function(t,e,i){},"9e3b":function(t,e,i){"use strict";i("0fe0")},c737:function(t,e,i){"use strict";i.r(e);i("4160"),i("b0c0"),i("159b");var n={name:"Feedback",data:function(){return{text:"",fileList:[],uploadImages:[],type:"请选择问题类型",showPicker:!1,columns:["存款问题","提款问题","游戏问题","优惠问题","网站/APP登录","修改资料","流水问题","其他"]}},created:function(){},methods:{afterRead:function(t){t.status="uploading",t.message=this.$$t("uploading"),setTimeout((function(){t.status=null,t.message=null}),1e3)},uploadImage:function(){var t=this;this.fileList.length<1?this.$toast(this.$$t("upload")+this.$t("common.noNull")):this.fileList.forEach((function(e){t.imgPreview(e.file)}))},onSubmit:function(){var t=this;this.$dialog.confirm({title:this.$t("common.point"),message:this.$$t("isSubmit")}).then((function(){t.uploadImage()})).catch((function(){}))},onSubmitFeedback:function(){},showType:function(){this.showPicker=!0},onConfirm:function(t){this.type=t,this.showPicker=!1},imgPreview:function(t){var e=this,i={name:t.name,type:t.type};if(/^image/.test(t.type)){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){var t=this.result,n=new Image;n.src=t,this.result.length<=512e3?e.postImg(this.result,i):n.onload=function(){var t=e.compress(n,void 0);e.postImg(t,i)}}}},postImg:function(t,e){var i=this,n=this.dataURLtoFile(t,e),o=new FormData;o.append("file",n),o.append("owner",this.siteConfig.codeKey||"default"),this.$post((this.siteConfig&&this.siteConfig.imgPath)+"/upload?",o).then((function(t){return i.checkResp(t,(function(t){return 1===t.data.code}))})).then((function(t){i.uploadImages.push(t.fileUrl),i.fileList.length===i.uploadImages.length&&i.onSubmitFeedback()})).catch((function(t){i.procError(t)}))},onOversize:function(){this.$toast(this.$t("common.imgSizeDesc"))}}},o=(i("9e3b"),i("2877")),s=Object(o.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-left",attrs:{id:"feedback"}},[i("div",{staticClass:"title"},[t._v("问题类型")]),i("van-cell",{attrs:{title:t.type,size:"large","title-class":"text-grey","is-link":"",center:""},on:{click:t.showType}}),i("div",{staticClass:"title"},[t._v("问题内容")]),i("van-field",{attrs:{rows:"6",autosize:"",type:"textarea",maxlength:"200",placeholder:"请详细描述您遇到的问题呢，填写内容不少于20字。","show-word-limit":""},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),i("div",{staticClass:"upload_img pt-3 pl-3"},[i("van-uploader",{attrs:{multiple:"","max-size":2097152,"after-read":t.afterRead,"max-count":3,"upload-icon":"/images/member/upload_icon.png"},on:{oversize:t.onOversize},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}}),i("div",{staticClass:"caption text-grey pb-5"},[t._v("文件格式为png、jpg、jpeg、且不超过5MB")])],1),i("div",{staticClass:"upload_btn px-4 pt-4 pb-9"},[i("van-button",{staticClass:"radius-2",attrs:{hairline:"",block:"",color:"linear-gradient(to right, rgb(154, 187, 255), rgb(70, 132, 255))"},on:{click:t.onSubmit}},[t._v(" 提交 ")])],1),i("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[i("van-picker",{attrs:{"show-toolbar":"",columns:t.columns},on:{cancel:function(e){t.showPicker=!1},confirm:t.onConfirm}})],1)],1)}),[],!1,null,"573d7118",null);e.default=s.exports}}]);