(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-264b914f"],{"083e":function(t,e,s){"use strict";s.r(e);s("4de4"),s("a9e3"),s("d3b7"),s("25f0");var a=s("2909"),n=s("6a57"),i=s("d958"),o=s.n(i),r={name:"Tournaments",data:function(){return{tab:0,refresh:!1,pageIndex:1,items:[],leagues:[],leaguesActive:["1"],matchCounts:[],finishedTab:1,status:0,startTime:0,minDate:new Date(2021,0,1),maxDate:new Date,currentDate:new Date,showDatetime:!1,demandDate_c:null,filters:[],leagueIds:[]}},computed:{tabOptions:function(){return[{text:this.$$t("today"),tag:0},{text:this.$$t("tomorrow"),tag:1},{text:this.$$t("league"),tag:2},{text:this.$$t("finished"),tag:3}]},finishedDateOptions:function(){return[{text:this.$$t("today"),tag:1},{text:this.$t("changeNotes.yesterday"),tag:2},{text:this.$t("changeNotes.nearlyTwoDays"),tag:3},{text:this.$$t("more"),tag:4}]},demandDate:function(){return 3===this.finishedTab?Object(n.d)(Object(n.b)(new Date,2),"yyyy-MM-dd"):2===this.finishedTab?Object(n.d)(Object(n.b)(new Date,1),"yyyy-MM-dd"):Object(n.d)(Object(n.b)(new Date,0),"yyyy-MM-dd")},styleOption:function(){return this.skgCode===this.skgUcsCode?3===this.tab?{top:"2.346rem",bottom:0}:{bottom:0}:3===this.tab?{top:"2.346rem",bottom:"1.333rem"}:{bottom:"1.333rem"}},filtering:{get:function(){return this.$store.getters.filtering},set:function(t){this.$store.commit("setFiltering",t)}}},watch:{tab:function(t){var e=this;this.pageIndex=1,this.demandDate_c=null,2===t?(this.$store.commit("setShowFilter",!0),this.$nextTick((function(){e.$refs.league_match_scroll.goTop(),e.onLeagueRefresh()}))):(this.$store.commit("setShowFilter",!1),this.$nextTick((function(){e.$refs.league_scroll.goTop(),e.onRefresh()})))},finishedTab:function(t){var e=this;4===t?this.showDatetime=!0:this.$nextTick((function(){e.$refs.league_scroll.goTop(),e.demandDate_c=null,e.onRefresh()}))}},created:function(){this.onMatchCount(),this.onLeagueItems()},activated:function(){2!==this.tab&&this.$store.commit("setShowFilter",!1),this.onRefresh()},methods:{onLoad:function(t){var e=this,s={};s=3===this.tab?{pageIndex:this.pageIndex,pageSize:10,beginTime:this.demandDate_c||this.demandDate,endTime:this.demandDate_c||this.demandDate,status:this.status}:{pageIndex:this.pageIndex,pageSize:10,startTime:this.startTime,status:0},this.showProgress(),this.$post("/api/Match/Match",s).then((function(t){return e.checkResp(t,(function(t){return!0===t.data.success}))})).then((function(s){var n,i=s.data;(e.pageIndex=e.pageIndex+1,e.refresh)?(e.items=[],e.items=i.items,t&&setTimeout((function(){e.refresh=!1,t()}),1e3)):i.items.length>0?((n=e.items).push.apply(n,Object(a.a)(i.items)),setTimeout((function(){t&&t(!1)}),1e3)):setTimeout((function(){t&&t(!0)}),1e3);setTimeout((function(){e.showProgress(!1)}),1500)})).catch((function(t){e.showProgress(!1),e.procError(t)}))},onLeague:function(t){var e=this;this.showProgress(),this.$post("/api/Match/Match",{pageIndex:this.pageIndex,pageSize:10,leagueId:this.leagueIds.toString()}).then((function(t){return e.checkResp(t,(function(t){return!0===t.data.success}))})).then((function(s){var n,i=s.data;(e.pageIndex=e.pageIndex+1,e.refresh)?(e.leagues=[],e.leagues=i.items,t&&setTimeout((function(){e.refresh=!1,t()}),1e3)):i.items.length>0?((n=e.leagues).push.apply(n,Object(a.a)(i.items)),setTimeout((function(){t&&t(!1)}),1e3)):setTimeout((function(){t&&t(!0)}),1e3);setTimeout((function(){e.showProgress(!1)}),1e3)})).catch((function(t){e.showProgress(!1),e.procError(t)}))},onLeagueItems:function(){var t=this;this.showProgress(),this.$post("/api/Match/LeagueBasic",{pageIndex:this.pageIndex,pageSize:500}).then((function(e){return t.checkResp(e,(function(t){return!0===t.data.success}))})).then((function(e){for(var s=e.data.items,a=[],n=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i=0;i<n.length;i++){for(var r={fir:n[i],leagues:[]},c=0;c<s.length;c++){var l=o()(s[c].leagueName[0],{style:o.a.STYLE_FIRST_LETTER})[0][0].toUpperCase();n[i]===l&&r.leagues.push(s[c])}a.push(r)}t.filters=a.filter((function(t){return t.leagues.length>0})),setTimeout((function(){t.showProgress(!1)}),1e3)})).catch((function(e){t.showProgress(!1),t.procError(e)}))},onMatchCount:function(){var t=this;this.$get("/api/Match/MatchCount").then((function(e){return t.checkResp(e,(function(t){return!0===t.data.success}))})).then((function(e){t.matchCounts=e.data})).catch((function(e){t.procError(e)}))},getCount:function(t){if(!(this.matchCounts.length<1))return this.matchCounts.filter((function(e){return e.statisticType===Number(t.tag)+1}))[0].count},onRefresh:function(t){this.refresh=!0,this.pageIndex=1,3===this.tab?this.status=3:this.startTime=this.tab,this.onLoad(t)},onLoadMore:function(t){this.refresh=!1,3===this.tab?this.status=3:this.startTime=this.tab,this.onLoad(t)},onLeagueRefresh:function(t){this.refresh=!0,this.pageIndex=1,this.onLeague(t)},onLeagueLoadMore:function(t){this.refresh=!1,this.onLeague(t)},formatDateUcs:function(t,e){var s=null;if(t&&"undefined"!==t&&"null"!==t)return this.isAndroid()?(s="MM_dd"===e?"MM-dd hh:mm":"yyyy-MM-dd",Object(n.e)(new Date(t),s)):(s="MM_dd"===e?"MM/dd hh:mm":"yyyy/MM/dd",Object(n.e)(Object(n.i)(t),s))},confirmDatetime:function(t){var e=null;e=this.isAndroid()?"yyyy-MM-dd":"yyyy/MM/dd",this.demandDate_c=this.formatDate(Object(n.e)(new Date(t),e)),this.onRefresh(),this.showDatetime=!1},beforeChange:function(t){return 4===t?(this.showDatetime=!0,!0):new Promise((function(t){t(!0)}))},goBets:function(t){0===Number(t.status)||2===Number(t.status)||4===Number(t.status)?(this.$sessionSet("math-data",t),this.redirectRouter("ucs/bets")):this.$info(t.statusDesc)},onUcsClickLeft:function(){this.$store.commit("setFiltering",!1)},checkAll:function(){this.$refs.checkboxGroup.toggleAll(!0)},toggleAll:function(){this.$refs.checkboxGroup.toggleAll()},filterLeagues:function(){this.$store.commit("setFiltering",!1),this.onLeagueRefresh()},$$t:function(t){return this.$t("tournaments."+t)}}},c=(s("6895"),s("2877")),l=Object(c.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"tournaments"}},[s("van-tabs",{attrs:{animated:"",swipeable:"","title-active-color":"rgb(96, 142, 255)",color:"rgb(77, 140, 252)"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.tabOptions,(function(e,a){return s("van-tab",{key:a,attrs:{title:e.text,name:e.tag,badge:t.getCount(e)}})})),1),3===t.tab?s("van-tabs",{staticClass:"pt-2",attrs:{type:"card",color:"rgb(77, 140, 252)","before-change":t.beforeChange},model:{value:t.finishedTab,callback:function(e){t.finishedTab=e},expression:"finishedTab"}},[t._l(t.finishedDateOptions,(function(t){return[s("van-tab",{key:t.tag,attrs:{title:t.text,name:t.tag}})]}))],2):t._e(),s("div",{staticClass:"notes-content",style:t.styleOption},[2!==t.tab?s("div",{staticClass:"notes-warps"},[s("scroll-view",{ref:"league_scroll",attrs:{onRefresh:t.onRefresh,loadMore:t.onLoadMore}},[t.items.length>0?s("div",{staticClass:"pa-3"},[t._l(t.items,(function(e,a){return[s("div",{key:a,staticClass:"background-white pa-3 radius-1 mb-2",on:{click:function(s){return t.goBets(e)}}},[s("van-row",{attrs:{type:"flex",justify:"space-between",align:"center"}},[s("van-col",{staticClass:"text-left text-grey_1",attrs:{span:"6"}},[t._v(" "+t._s(t.formatDateUcs(e.startTime,"MM_dd"))+"(UTC-5) ")]),s("van-col",{staticClass:"text-center text-grey_1 caption-bold",attrs:{span:"12"}},[t._v(t._s(e.leagueName)+" ")]),s("van-col",{staticClass:"text-right",attrs:{span:"6"}},[s("span",{staticClass:"text-grey_1 caption-bold"},[t._v(t._s(t.$$t("volume")))]),s("span",{staticStyle:{color:"rgb(241, 153, 74)"}},[t._v(" "+t._s(e.fullTimeVolume))])])],1),s("div",{staticClass:"mt-4"},[3!==Number(e.status)?s("van-row",{attrs:{type:"flex",justify:"space-between",align:"center"}},[s("van-col",{staticClass:"text-center teamName",attrs:{span:"10"}},[s("van-image",{attrs:{src:e.homeTeamLogo||"/images/ucs/match.png",width:"38"},scopedSlots:t._u([{key:"loading",fn:function(){return[s("van-loading",{attrs:{type:"spinner",size:"22"}})]},proxy:!0}],null,!0)}),s("div",{staticClass:"mt-1"},[t._v(t._s(e.homeTeamName))])],1),s("van-col",{staticClass:"text-center",attrs:{span:"4"}},[s("van-image",{attrs:{src:"/images/ucs/vs.png",width:"31",height:"22"}})],1),s("van-col",{staticClass:"text-center teamName",attrs:{span:"10"}},[s("van-image",{attrs:{src:e.awayTeamLogo||"/images/ucs/match.png",width:"38"},scopedSlots:t._u([{key:"loading",fn:function(){return[s("van-loading",{attrs:{type:"spinner",size:"22"}})]},proxy:!0}],null,!0)}),s("div",{staticClass:"mt-1"},[t._v(t._s(e.awayTeamName))])],1)],1):s("van-row",{attrs:{type:"flex",justify:"space-between",align:"center"}},[s("van-col",{staticClass:"text-center teamName",attrs:{span:"6"}},[s("van-image",{attrs:{src:e.homeTeamLogo||"/images/ucs/match.png",width:"38"},scopedSlots:t._u([{key:"loading",fn:function(){return[s("van-loading",{attrs:{type:"spinner",size:"22"}})]},proxy:!0}],null,!0)}),s("div",{staticClass:"mt-1"},[t._v(t._s(e.homeTeamName))])],1),s("van-col",{staticClass:"text-center",attrs:{span:"6"}},[s("div",{staticClass:"money-number red-text"},[t._v(t._s(e.fullTimeScore))]),s("div",{staticClass:"caption text-grey"},[t._v(t._s(t.$$t("halfTimeScore"))+": "+t._s(e.halfTimeScore)+" ")])]),s("van-col",{staticClass:"text-center teamName",attrs:{span:"6"}},[s("van-image",{attrs:{src:e.awayTeamLogo||"/images/ucs/match.png",width:"38"},scopedSlots:t._u([{key:"loading",fn:function(){return[s("van-loading",{attrs:{type:"spinner",size:"22"}})]},proxy:!0}],null,!0)}),s("div",{staticClass:"mt-1"},[t._v(t._s(e.awayTeamName))])],1)],1)],1)],1)]}))],2):s("van-empty",{staticClass:"text-center",attrs:{description:t.$t("common.noMore")},scopedSlots:t._u([{key:"image",fn:function(){return[s("van-image",{attrs:{src:"images/empty/no-more.png",width:"280",height:"130"}})]},proxy:!0}],null,!1,1071675308)})],1)],1):s("div",{staticClass:"text-left  radius-1 leagues-index-bar"},[s("scroll-view",{ref:"league_match_scroll",attrs:{onRefresh:t.onLeagueRefresh,loadMore:t.onLeagueLoadMore}},[t.leagues.length>0?s("div",{staticClass:"leagues-items pa-3"},[t._l(t.leagues,(function(e,a){return[s("div",{key:a,staticClass:"background-white radius-1 mb-2 py-3 px-3",on:{click:function(s){return t.goBets(e)}}},[s("van-row",{attrs:{type:"flex",justify:"space-between",align:"center"}},[s("van-col",{staticClass:"text-left text-grey_1 caption",attrs:{span:"6"}},[t._v(" "+t._s(t.formatDateUcs(e.startTime,"MM_dd"))+"(UTC-5) ")]),s("van-col",{staticClass:"text-center text-grey_1 caption-bold",attrs:{span:"12"}},[t._v(" "+t._s(e.leagueName)+" ")]),s("van-col",{staticClass:"text-right",attrs:{span:"6"}},[s("span",{staticClass:"text-grey_1 caption-bold"},[t._v(t._s(t.$$t("volume")))]),s("span",{staticStyle:{color:"rgb(241, 153, 74)"}},[t._v(" "+t._s(e.fullTimeVolume))])])],1),s("div",{staticClass:"mt-4"},[s("van-row",{attrs:{type:"flex",justify:"space-between",align:"center"}},[s("van-col",{staticClass:"text-center teamName",attrs:{span:"10"}},[s("van-image",{attrs:{src:e.homeTeamLogo||"/images/ucs/match.png",width:"38"},scopedSlots:t._u([{key:"loading",fn:function(){return[s("van-loading",{attrs:{type:"spinner",size:"22"}})]},proxy:!0}],null,!0)}),s("div",{staticClass:"mt-1"},[t._v(t._s(e.homeTeamName))])],1),s("van-col",{staticClass:"text-center",attrs:{span:"4"}},[s("van-image",{attrs:{src:"/images/ucs/vs.png",width:"31",height:"22"}})],1),s("van-col",{staticClass:"text-center teamName",attrs:{span:"10"}},[s("van-image",{attrs:{src:e.awayTeamLogo||"/images/ucs/match.png",width:"38"},scopedSlots:t._u([{key:"loading",fn:function(){return[s("van-loading",{attrs:{type:"spinner",size:"22"}})]},proxy:!0}],null,!0)}),s("div",{staticClass:"mt-1"},[t._v(t._s(e.awayTeamName))])],1)],1)],1)],1)]}))],2):s("van-empty",{staticClass:"text-center",attrs:{description:t.$t("common.noMore")},scopedSlots:t._u([{key:"image",fn:function(){return[s("van-image",{attrs:{src:"images/empty/no-more.png",width:"280",height:"130"}})]},proxy:!0}])})],1)],1)]),s("van-popup",{attrs:{position:"bottom","close-on-click-overlay":!1},model:{value:t.showDatetime,callback:function(e){t.showDatetime=e},expression:"showDatetime"}},[s("van-datetime-picker",{attrs:{type:"date","min-date":t.minDate,"max-date":t.maxDate},on:{confirm:t.confirmDatetime,cancel:function(e){t.showDatetime=!1}},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1),s("van-popup",{staticClass:"filtering",attrs:{position:"right"},model:{value:t.filtering,callback:function(e){t.filtering=e},expression:"filtering"}},[s("van-nav-bar",{attrs:{title:t.$$t("filtering"),"left-arrow":""},on:{"click-left":t.onUcsClickLeft},scopedSlots:t._u([{key:"right",fn:function(){return[s("van-button",{staticClass:"px-3 radius-1",attrs:{plain:"",hairline:"",type:"info",size:"small"},on:{click:t.filterLeagues}},[t._v(t._s(t.$$t("confirm")))])]},proxy:!0}])}),s("div",{staticClass:"filtering_warps"},[s("scroller",[s("div",{staticClass:"pb-3 text-left"},[s("van-checkbox-group",{ref:"checkboxGroup",model:{value:t.leagueIds,callback:function(e){t.leagueIds=e},expression:"leagueIds"}},[t._l(t.filters,(function(e,a){return[s("van-cell-group",{key:a,attrs:{inset:"",title:e.fir,border:!1}},[t._l(e.leagues,(function(e){return[s("van-cell",{key:e.leagueId,scopedSlots:t._u([{key:"title",fn:function(){return[s("div",{staticClass:"flex align-items-center"},[s("van-icon",{staticClass:"mr-3",attrs:{name:e.leagueLogo,size:"28"}}),s("div",{staticClass:"subtitle-1"},[t._v(t._s(e.leagueName))])],1)]},proxy:!0},{key:"right-icon",fn:function(){return[s("van-checkbox",{ref:"checkboxes",refInFor:!0,attrs:{name:e.leagueId}})]},proxy:!0}],null,!0)})]}))],2)]}))],2)],1)])],1),s("div",{staticClass:"flex space-between align-items-center btns px-4 py-2 background-white"},[s("div",{staticClass:"body-2 text-grey"},[t._v(t._s(t.$$t("checked"))+"["),s("span",{staticClass:"red-text"},[t._v(t._s(t.leagueIds.length))]),t._v("]")]),s("div",[s("van-button",{staticClass:"mr-4 px-3 radius-1",attrs:{type:"info",size:"small"},on:{click:t.checkAll}},[t._v(t._s(t.$$t("checkAll")))]),s("van-button",{staticClass:"px-3 radius-1",attrs:{type:"info",size:"small"},on:{click:t.toggleAll}},[t._v(t._s(t.$$t("toggleAll")))])],1)])],1)],1)}),[],!1,null,"a4e396ac",null);e.default=l.exports},6895:function(t,e,s){"use strict";s("e1f8")},e1f8:function(t,e,s){}}]);