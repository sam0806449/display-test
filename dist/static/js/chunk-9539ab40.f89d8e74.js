(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9539ab40"],{"76e6":function(t,e,i){"use strict";i.r(e);i("99af"),i("a9e3");var a={name:"FinancialHoldDetails",data:function(){return{stepsActive:4,showPopup:!1,item:{},money:0}},activated:function(){var t=this.$route.query.productId||sessionStorage.getItem("productId");this.onLoad(t)},computed:{getDayRules:function(){return 0===Number(this.item&&this.item.cycleType)&&Number(this.item&&this.item.cycle)<2}},methods:{onLoad:function(t){var e=this;this.$get("/api/Financial/GetMemberAssetsDetail?objId="+t).then((function(t){return e.checkResp(t,(function(t){return!0===t.data.success}))})).then((function(t){e.item=t.data,e.money=Number(t.data.credit)})).catch((function(t){e.procError(t)}))},onRedemption:function(){var t=this;this.$dialog.confirm({title:this.$t("common.point"),message:this.$$t("isRedeem")}).then((function(){Number(t.money>Number(t.item.credit))?t.$toast(t.$$t("transferDesc")):t.$post("/api/Financial/SellOut?assetsId=".concat(t.item.id,"&money=").concat(t.money)).then((function(e){return t.checkResp(e,(function(t){return!0===t.data.success}))})).then((function(){var e=sessionStorage.getItem("productId");t.getDayRules?t.onLoad(e):t.$router.push("/app/financial/hold"),t.showPopup=!1,t.$success(t.$$t("successful"))})).catch((function(e){t.procError(e)}))})).catch((function(){}))},showPopupClick:function(){Number(this.item.daysToRedemption)>0?this.$toast(this.$$t("noRedeemable")):this.showPopup=!0},redirectBuy:function(){this.$router.push({path:"/app/financial/buy",query:{productId:this.item.financialProductId,title:this.item.financialProductName,again:!0,minimumPurchaseAmount:this.item.minimumPurchaseAmount}})},$$t:function(t){return this.$t("financialHoldDetails."+t)}}},s=(i("7a87"),i("2877")),n=Object(s.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"financialHoldDetails"}},[i("scroller",[i("div",{staticClass:"warp"},[i("div",{staticClass:"details-top"},[i("div",{staticClass:"title"},[t._v(t._s(t.item&&t.item.financialProductName))]),i("div",{staticClass:"desc van-ellipsis"},[t._v(t._s(t.$$t("titleDesc1"))+t._s(t.item&&t.item.financialProductName)+t._s(t.$$t("titleDesc2")))])]),i("div",{staticClass:"details-balance"},[i("div",{staticClass:"title"},[t._v(t._s(t.$$t("total")))]),i("div",{staticClass:"number"},[t._v(t._s(t.currencySymbol)+t._s(t.item&&t.item.credit)+t._s(t.currencyDenomination))]),i("van-row",{attrs:{type:"flex",justify:"space-around"}},[i("van-col",{attrs:{span:"6"}},[i("div",{staticClass:"text van-ellipsis"},[t._v(t._s(t.$$t("annualized")))]),i("div",{staticClass:"number"},[t._v(t._s(t.item&&t.item.annualizedIncomeBenchmark)+"%")])]),i("van-col",{attrs:{span:"6"}},[i("div",{staticClass:"text van-ellipsis"},[t._v(t._s(t.$$t("lastIncome")))]),i("div",{staticClass:"number"},[t._v(t._s(t.currencySymbol)+t._s(t.item&&t.item.lastIncome)+t._s(t.currencyDenomination))])]),i("van-col",{attrs:{span:"6"}},[i("div",{staticClass:"text van-ellipsis"},[t._v(t._s(t.$$t("totalIncome")))]),i("div",{staticClass:"number"},[t._v(t._s(t.currencySymbol)+t._s(t.item&&t.item.totalIncome)+t._s(t.currencyDenomination))])])],1),t.getDayRules?i("div",{staticClass:"details-balance-btn"},[i("van-button",{attrs:{color:"rgb(253, 236, 232)",size:"large"},on:{click:t.showPopupClick}},[t._v(t._s(t.$$t("transferOut")))]),i("van-button",{attrs:{color:"linear-gradient(to right, rgb(154, 187, 255), rgb(70, 132, 255))",size:"large"},on:{click:t.redirectBuy}},[t._v(t._s(t.$$t("transferIn")))])],1):t._e()],1),t.getDayRules?i("div",{staticClass:"marketDetails-rules"},[i("van-cell",{attrs:{border:!1,center:"",title:t.$t("financialMarketDetails.rulesTitle"),"title-class":"marketDetails-rules-title"}}),i("div",{staticClass:"marketDetails-rules-text"},[t._v(" "+t._s(t.$t("financialMarketDetails.rules4_1"))+t._s(t.currencySymbol)+t._s(t.item&&t.item.minimumPurchaseAmount)+t._s(t.currencyDenomination)+t._s(t.$t("financialMarketDetails.rules4_2"))+" ")])],1):i("div",{staticClass:"details-maturity"},[i("van-cell",{staticClass:"details-maturity-cell",attrs:{center:"",title:""+(Number(t.item&&t.item.daysToRedemption)<2?"":t.item.daysToRedemption)+(Number(t.item&&t.item.daysToRedemption)<2?t.$$t("expired"):t.$$t("daysToRedemption")),value:t.$$t("redemption"),"value-class":"maturity-value","title-class":"maturity-title","label-class":"maturity-label",border:!1,label:""+t.$$t("redemptionDesc1")+t.formatDate(t.item&&t.item.updateTime)+t.$$t("redemptionDesc2")},on:{click:t.showPopupClick}},[i("van-icon",{attrs:{slot:"right-icon",name:"arrow"},slot:"right-icon"})],1),i("van-steps",{attrs:{active:t.stepsActive,"active-color":"#F36A06"}},[i("van-step",[i("h3",[t._v(t._s(t.$$t("deal")))]),i("p",[t._v(t._s(t.formatDate(t.item&&t.item.createTime)))])]),i("van-step",[i("h3",[t._v(t._s(t.$$t("income")))]),i("p",[t._v(t._s(t.afterByDayFormat(t.item&&t.item.createTime,1)))])]),i("van-step",[i("h3",[t._v(t._s(t.$$t("redemptionDate")))]),i("p",[t._v(t._s(t.formatDate(t.item&&t.item.redemptionDate)))])])],1),i("van-cell-group",[i("van-cell",{attrs:{title:t.$$t("buyMoney"),value:t.currencySymbol+t.item.credit,border:!1}}),i("van-cell",{attrs:{title:t.$$t("calculating"),value:t.formatDate(t.item&&t.item.createTime),border:!1}}),i("van-cell",{attrs:{title:t.$$t("redemptionTime"),value:t.formatDate(t.item&&t.item.redemptionDate),border:!1}})],1)],1)])]),i("van-popup",{attrs:{closeable:"","close-icon-position":"top-left",position:"bottom"},model:{value:t.showPopup,callback:function(e){t.showPopup=e},expression:"showPopup"}},[i("div",{staticClass:"title"},[t._v(t._s(t.$$t("redemption")))]),i("div",{staticClass:"popup-top"},[i("div",{staticClass:"popup-top-title"},[t._v(t._s(t.item&&t.item.financialProductName))]),i("div",{staticClass:"popup-top-desc"},[t._v(t._s(t.$$t("titleDesc1"))+t._s(t.item&&t.item.financialProductName)+t._s(t.$$t("titleDesc2")))])]),i("van-divider",{staticStyle:{margin:"0",padding:"0 16px","background-color":"white"}}),t.getDayRules?i("div",{staticClass:"popup-money-1"},[i("van-field",{attrs:{type:"digit",center:"","right-icon":"images/financial/close.png"},on:{"click-right-icon":function(e){e.stopPropagation(),t.money=0},"click-input":function(e){e.stopPropagation(),t.showKeyboard=!0}},model:{value:t.money,callback:function(e){t.money=e},expression:"money"}},[i("div",{staticClass:"money-number",attrs:{slot:"left-icon"},slot:"left-icon"},[t._v(t._s(t.currencySymbol))])])],1):i("div",{staticClass:"popup-money"},[i("div",{staticClass:"popup-money-title"},[t._v(t._s(t.$$t("money")))]),i("div",{staticClass:"popup-money-number"},[t._v(" "+t._s(t.currencySymbol)+t._s(t.item&&t.item.credit)+" ")])]),i("van-divider",{staticStyle:{margin:"0",padding:"0 16px","background-color":"white"}}),i("div",{staticClass:"popup-btn"},[i("van-button",{attrs:{hairline:"",block:"",color:"linear-gradient(to right, rgb(154, 187, 255), rgb(70, 132, 255))"},on:{click:t.onRedemption}},[t._v(" "+t._s(t.$$t("determine"))+" ")])],1)],1),t.getDayRules?t._e():i("van-tabbar",[i("div",{staticClass:"btn"},[i("van-button",{attrs:{hairline:"",block:"",color:"linear-gradient(to right, rgb(154, 187, 255), rgb(70, 132, 255))"},on:{click:t.redirectBuy}},[t._v(" "+t._s(t.$$t("again"))+" ")])],1)])],1)}),[],!1,null,"82cfd204",null);e.default=n.exports},"7a87":function(t,e,i){"use strict";i("9180")},9180:function(t,e,i){}}]);