(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c80314be"],{"17fb":function(t,s,e){},"9417f":function(t,s,e){"use strict";e.r(s);var n=e("2909"),i={name:"Notes",activated:function(){this.onRefresh()},data:function(){return{status:0,refresh:!1,pageIndex:1,lists:[]}},computed:{getItems:function(){return[{text:this.$$t("unfinished")},{text:this.$$t("review")},{text:this.$$t("finished")},{text:this.$$t("failure")}]}},watch:{status:function(){this.onRefresh()}},methods:{onLoad:function(t){var s=this;this.$post("/api/Task/GetTaskApplyPaged",{pageIndex:this.pageIndex,pageSize:10,status:this.status}).then((function(t){return s.checkResp(t,(function(t){return!0===t.data.success}))})).then((function(e){var i,a=e.data;(s.pageIndex=s.pageIndex+1,s.refresh)?(s.lists=[],s.lists=a.items,t&&setTimeout((function(){s.refresh=!1,t()}),1e3)):a.items.length>0?((i=s.lists).push.apply(i,Object(n.a)(a.items)),setTimeout((function(){t&&t(!1)}),1e3)):setTimeout((function(){t&&t(!0)}),1e3)})).catch((function(t){s.procError(t)}))},onRefresh:function(t){this.refresh=!0,this.pageIndex=1,this.onLoad(t)},redirectNotesDetails:function(t){var s=this;this.$post("/api/Task/GetTask?objId="+t.taskId).then((function(t){return s.checkResp(t,(function(t){return!0===t.data.success}))})).then((function(e){var n=e.data;n.category_task_applyId=t.objId,n.renounceStatus=n.status,n.status=t.status,n.statusDesc=t.statusDesc,s.$sessionSet("Note-data",n),s.$router.push("notes/details")})).catch((function(t){s.procError(t)}))},redirectTask:function(){this.$router.push("/app/task")},$$t:function(t){return this.$t("notes."+t)}}},a=(e("c785"),e("2877")),r=Object(a.a)(i,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"notes"}},[e("van-tabs",{attrs:{animated:"",swipeable:"","title-active-color":"rgb(96, 142, 255)",color:"rgb(77, 140, 252)"},model:{value:t.status,callback:function(s){t.status=s},expression:"status"}},t._l(t.getItems,(function(t,s){return e("van-tab",{key:s,attrs:{title:t.text}})})),1),e("div",{staticClass:"notes-content"},[e("scroll-view",{ref:"easyRefresh",attrs:{onRefresh:t.onRefresh,loadMore:t.onLoad}},[t.lists.length>0?e("div",[t._l(t.lists,(function(s,n){return[e("div",{key:n,staticClass:"notes-list",on:{click:function(e){return e.stopPropagation(),t.redirectNotesDetails(s)}}},[e("div",{staticClass:"left"},[e("van-image",{attrs:{round:"","lazy-load":"",width:"1.2267rem",height:"1.2267rem",src:t.$portrait(s.categoryIco)}},[e("template",{slot:"loading"},[e("van-loading",{attrs:{type:"spinner",size:"20"}})],1)],2)],1),e("div",{staticClass:"right"},[e("div",{staticClass:"right-left"},[e("div",{staticClass:"title van-ellipsis"},[t._v(t._s(s.taskTitle))]),e("div",{staticClass:"center"},[e("van-tag",{attrs:{color:"#FBD079",size:"medium"}},[t._v(t._s(s.statusDesc))])],1)]),e("div",{staticClass:"right-r"},[e("div",{staticClass:"number"},[t._v(t._s(t.currencySymbol)+t._s(s.price)+t._s(t.currencyDenomination))])])])]),n<t.lists.length-1?e("div",{key:n+"_note",staticClass:"van-hairline--bottom",staticStyle:{margin:"0 16px"}}):t._e()]}))],2):e("van-empty",{staticClass:"text-center",attrs:{description:t.$t("common.noMore")},scopedSlots:t._u([{key:"image",fn:function(){return[e("van-image",{attrs:{src:"/images/empty/task.png",width:"280",height:"130"}})]},proxy:!0}])},[e("van-button",{attrs:{hairline:"",block:"",plain:"",round:"",color:"rgb(96, 142, 255)"},on:{click:t.redirectTask}},[t._v(" "+t._s(t.$$t("btn"))+" ")])],1)],1)],1)],1)}),[],!1,null,"6be80618",null);s.default=r.exports},c785:function(t,s,e){"use strict";e("17fb")}}]);