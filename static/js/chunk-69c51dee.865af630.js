(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-69c51dee"],{"1f54":function(t,e,s){},"79c9":function(t,e,s){"use strict";s("1f54")},fb99:function(t,e,s){"use strict";s.r(e);s("99af"),s("a9e3");var a=s("2909"),n=s("6a57"),i={name:"RechargeNotes",data:function(){return{date:1,recordType:"",items:[],refresh:!1,recordTypeOption:[{text:this.$$t("all"),value:""},{text:this.$$t("recharge"),value:1},{text:this.$$t("withdraw"),value:2},{text:this.$$t("deduction"),value:15}],pageIndex:1}},computed:{startDate:function(){return 7===this.date?Object(n.d)(Object(n.b)(new Date,7),"yyyy-MM-dd"):3===this.date?Object(n.d)(Object(n.b)(new Date,2),"yyyy-MM-dd"):2===this.date?Object(n.d)(Object(n.b)(new Date,1),"yyyy-MM-dd"):Object(n.d)(Object(n.b)(new Date,0),"yyyy-MM-dd")},dateOptions:function(){return[{text:this.$$t("nearlySevenDays"),value:7},{text:this.$$t("nearlyTwoDays"),value:3},{text:this.$$t("yesterday"),value:2},{text:this.$$t("today"),value:1}]},endDate:function(){return 7===this.date||1===this.date?Object(n.d)(new Date,"yyyy-MM-dd"):Object(n.d)(Object(n.b)(new Date,Number(this.date-1)),"yyyy-MM-dd")}},watch:{date:function(){this.items=[],this.pageIndex=1,this.onRefresh()},recordType:function(){this.items=[],this.pageIndex=1,this.onRefresh()}},created:function(){this.onLoad()},methods:{onLoad:function(t){var e=this;this.showProgress(),this.$post("/api/Account/GetTransactionRecord?recordType=".concat(this.recordType,"&pageSize=10&pageIndex=").concat(this.pageIndex,"&startDate=").concat(this.startDate,"&endDate=").concat(this.endDate)).then((function(t){return e.checkResp(t,(function(t){return!0===t.data.success}))})).then((function(s){var n,i=s.data;(e.pageIndex=e.pageIndex+1,e.refresh)?(e.items=[],e.items=i.items,t&&(e.refresh=!1,t())):i.items.length>0?((n=e.items).push.apply(n,Object(a.a)(i.items)),t&&t(!1)):t&&t(!0);e.showProgress(!1)})).catch((function(s){t&&t(!0),e.showProgress(!1),e.procError(s)}))},onRefresh:function(t){this.refresh=!0,this.pageIndex=1,this.onLoad(t)},goDetails:function(t){this.$sessionSet("Note-Data",t),this.$router.push("rechargeNotes/details")},getRecordType:function(t){return 1===t?this.$$t("recharge"):2===t?this.$$t("withdraw"):3===t?this.$$t("transfer"):4===t?this.$$t("rakeback"):15===t?this.$$t("deduction"):void 0},getSymbol:function(t){return 2===t||15===t?"-":"+"},$$t:function(t){return this.$t("rechargeNotes."+t)}}},r=(s("79c9"),s("2877")),o=Object(r.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"rechargeNotes"}},[s("van-dropdown-menu",{attrs:{"active-color":"#1989fa"}},[s("van-dropdown-item",{attrs:{options:t.recordTypeOption},model:{value:t.recordType,callback:function(e){t.recordType=e},expression:"recordType"}}),s("van-dropdown-item",{attrs:{options:t.dateOptions},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),s("div",{staticClass:"center"},[s("scroll-view",{attrs:{onRefresh:t.onRefresh,loadMore:t.onLoad}},[t.items.length>0?s("div",{staticClass:"px-4 mt-1 background-white"},[t._l(t.items,(function(e,a){return[s("div",{key:a},[s("div",{staticClass:"detail text-left",on:{click:function(s){return t.goDetails(e)}}},[s("div",{staticClass:"left"},[s("div",{staticClass:"title"},[t._v(" "+t._s(t.getRecordType(e.recordType))+t._s(e.currencySymbol)+t._s(e.moneyY)+t._s(t.currencyDenomination)+" ")]),s("div",{staticClass:"desc"},[t._v(t._s(e.orderTime))])]),s("div",{staticClass:"right"},[0===Number(e.status)?s("div",{staticClass:"status-1"},[t._v(t._s(t.$$t("status_0")))]):1===Number(e.status)?s("div",{staticClass:"status-1"},[t._v(t._s(t.$$t("status_1")))]):2===Number(e.status)?s("div",[s("div",{staticClass:"number",class:{profit_win:"-"===t.getSymbol(e.recordType)}},[t._v(t._s(t.getSymbol(e.recordType))+t._s(e.moneyY))]),s("div",{staticClass:"status-2"},[t._v(t._s(t.$$t("status_2")))])]):s("div",{staticClass:"status-cancel"},[t._v(t._s(t.$$t("status_3")))])])]),s("van-divider",{directives:[{name:"show",rawName:"v-show",value:a<t.items.length,expression:"index < items.length"}]})],1)]}))],2):s("van-empty",{staticClass:"text-center",attrs:{description:t.$t("common.noMore")},scopedSlots:t._u([{key:"image",fn:function(){return[s("van-image",{attrs:{src:"/images/empty/no-more.png",width:"280",height:"130"}})]},proxy:!0}])})],1)],1)],1)}),[],!1,null,"1c39212a",null);e.default=o.exports}}]);