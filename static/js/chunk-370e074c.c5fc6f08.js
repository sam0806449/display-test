(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-370e074c"],{"13d9":function(t,e,a){"use strict";a.r(e);a("a434");var o={name:"Collections",data:function(){return{categoryCode:"",gameCategorys:[],games:[]}},activated:function(){this.getGameCategorys()},watch:{categoryCode:function(t){this.onLoad(t)}},methods:{onLoad:function(t){var e=this;this.$post("/api/Game/Games",{categoryCode:t,platformCode:"",pageIndex:1,pageSize:1e3,source:1,tag:"favor"}).then((function(t){return e.checkResp(t,(function(t){return!0===t.data.success}))})).then((function(t){var a=t.data;e.games=a.items})).catch((function(t){e.procError(t)}))},getGameCategorys:function(){var t=this;this.$get("/api/Game/GameCategorys").then((function(e){return t.checkResp(e,(function(t){return!0===t.data.success}))})).then((function(e){var a=e.data;a.splice(0,0,{code:"",name:t.$t("common.all")}),t.gameCategorys=a,t.onLoad(t.categoryCode)})).catch((function(e){t.procError(e)}))},changeFavorite:function(t){var e=this,a="",o=t.isFavorites;a=o?"/api/Game/RemoveGameFavorites":"/api/Game/AddGameFavorites",this.$get(a+"?platformCode="+t.platformCode+"&gameCode="+t.gameCode).then((function(t){return e.checkResp(t,(function(t){return!0===t.data.success}))})).then((function(){o?e.$success(e.$$t("delSuccess")):e.$success(e.$$t("success")),e.onLoad(e.categoryCode)})).catch((function(t){e.procError(t)}))},$$t:function(t){return this.$t("collections."+t)}}},n=(a("9235"),a("2877")),c=Object(n.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"collections"}},[a("van-tabs",{attrs:{animated:"",ellipsis:"",swipeable:"","title-active-color":"rgb(64, 128, 255)","title-inactive-color":"black",color:"rgb(64, 128, 255)"},model:{value:t.categoryCode,callback:function(e){t.categoryCode=e},expression:"categoryCode"}},[t._l(t.gameCategorys,(function(t,e){return[a("van-tab",{key:e,attrs:{title:t.name,name:t.code,"title-class":"tab_title"}})]}))],2),a("div",{staticClass:"games"},[a("scroller",[a("div",{staticClass:"warp"},[t.games.length>0?a("div",[a("van-row",{attrs:{gutter:15,justify:"space-between"}},t._l(t.games,(function(e,o){return a("van-col",{key:o,attrs:{span:"12"}},[a("div",{staticClass:"top",on:{click:function(a){return t.getGameLoginUrl(e.platformCode,e.gameCode)}}},[a("van-image",{attrs:{height:"164","lazy-load":"",src:t.getGameImg(e.platformCode,e.imageName,e.categoryCode)},scopedSlots:t._u([{key:"loading",fn:function(){return[a("van-loading",{attrs:{type:"spinner",size:"24"}})]},proxy:!0}],null,!0)})],1),a("div",{staticClass:"bottom"},[a("span",[t._v(t._s(e.gameName))]),a("van-icon",{attrs:{name:"/images/games/"+(e.isFavorites?"favorite-active":"favorite")+".png",size:"18"},on:{click:function(a){return t.changeFavorite(e)}}})],1)])})),1)],1):a("van-empty",{staticClass:"text-center",attrs:{description:t.$t("common.noMore")},scopedSlots:t._u([{key:"image",fn:function(){return[a("van-image",{attrs:{src:"/images/empty/no-more.png",width:"280",height:"130"}})]},proxy:!0}])})],1)])],1)],1)}),[],!1,null,"94c41136",null);e.default=c.exports},9235:function(t,e,a){"use strict";a("ab57")},ab57:function(t,e,a){}}]);