(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ac7cc3cc"],{"87c0":function(t,e,s){},f7ab:function(t,e,s){"use strict";s.r(e);s("4de4"),s("c740"),s("a434"),s("a9e3"),s("b680"),s("d3b7"),s("ac1f"),s("25f0"),s("1276");var i={name:"Member",mixins:[s("c28f").a],data:function(){return{refreshIcon:!1,checkInItems:[],checkDays:0,isNowMoney:0}},computed:{getPercentage:function(){var t,e=0;if(0===Number(this.memberData&&this.memberData.currentTotalDml)||0===Number(this.memberData&&this.memberData.dmlRequire))return 0;var s=Number(this.memberData&&this.memberData.currentTotalDml)/Number(this.memberData&&this.memberData.dmlRequire),i=Number(this.memberData&&this.memberData.currentTotalDeposit)/Number(this.memberData&&this.memberData.depositRequire);return s>1&&(s=1),i>1&&(i=1),(e=100*(.5*i+.5*s))<=0&&(e=0),(t=e.toString().split(".")[1])&&t.length>1&&(e=e.toFixed(2).toString()),e},getPromotion:function(){var t=this.memberData,e=this.formatNum((t&&t.dmlRequire)-(t&&t.currentTotalDml),2);return e<=0&&(e=0),e},getDepositRequire:function(){var t=this.memberData,e=this.formatNum((t&&t.depositRequire)-(t&&t.currentTotalDeposit),2);return e<=0&&(e=0),e},showReportPopup:{get:function(){return this.$store.getters.showReportPopup},set:function(t){this.$store.commit("setShowReportPopup",t)}},isNowCheck:function(){if(!(this.checkInItems.length<1))return this.checkInItems.filter((function(t){return!0===t.isNow}))[0].isCheck},features:function(){var t=[{img:"/images/member/zb.png",title:this.$$t("changeNotes"),url:"changeNotes"},{img:"/images/member/lc.png",title:this.$$t("financial"),url:"financial"},{img:"/images/member/dl.png",title:this.$$t("teamReport"),url:"teamReport"},{img:"/images/member/fyjl.png",title:this.$$t("rebateRecord"),url:"rebateRecord"},{img:"/images/member/rebate.png",title:this.$$t("rebates"),url:"rebates"},{img:"/images/member/joint.png",title:this.$$t("joint"),url:"joint"},{img:"/images/member/exchangeMoney.png",title:this.$$t("exchange"),url:"exchangeMoney"},{img:"/images/member/zhsz.png",title:this.$$t("memberInfo"),url:"member/info"}];if(this.siteConfig&&!this.siteConfig.isOpenTransferByMember){var e=t.findIndex((function(t){return"exchangeMoney"===t.url}));t.splice(e,1)}if(this.skgCode===this.skyLotteryCode){var s=t.findIndex((function(t){return"rebates"===t.url}));t.splice(s,1)}return this.memberData&&0===Number(this.memberData.memberType)&&this.skgCode!==this.skgUcsCode&&t.push({img:"images/member/xjkh.png",title:this.$t("subordinateAgent.title"),url:"subordinateAgent"}),t},balanceItems:function(){return[{img:"/images/member/qb.png",title:this.$$t("purses"),url:"purses"},{img:"/images/member/jy.png",title:this.$$t("rechargeNotes"),url:"rechargeNotes"},{img:"/images/member/tz.png",title:this.$$t("gameBet"),url:"gameBet"},{img:"/images/member/hz.png",title:this.$$t("profits"),url:"profits"}]}},watch:{showReportPopup:function(t){t&&this.onGetCheckInInfo()}},activated:function(){this.initMemberData()},methods:{onTransformAll:function(){var t=this;this.showProgress(),this.$get("/api/Game/TransformAll").then((function(e){return t.checkResp(e,(function(t){return!0===t.data.success}))})).then((function(){t.$success(t.$t("common.transformSuccess")),t.initMemberData(),t.showProgress(!1)})).catch((function(e){t.showProgress(!1),t.procError(e)}))},onLogout:function(){var t=this;this.$dialog.confirm({title:this.$t("common.point"),message:this.$t("common.signOut")}).then((function(){t.showProgress(!0),t.$post("/api/Account/Logout").then((function(e){return t.checkResp(e,(function(t){return!0===t.data.success}))})).then((function(){t.showProgress(!1),t.removeSession(),t.$router.push("/app/dashboard")})).catch((function(e){t.showProgress(!1),t.procError(e)}))})).catch((function(){}))},refreshBalance:function(){var t=this;this.refreshIcon=!this.refreshIcon,setTimeout((function(){t.refreshIcon=!t.refreshIcon}),1e3),this.refreshMemberData()},onGetCheckInInfo:function(){var t=this;this.$post("/api/CheckIn/GetCheckInInfo").then((function(e){return t.checkResp(e,(function(t){return!0===t.data.success}))})).then((function(e){var s=e.data;if(t.checkInItems=s.items,t.checkDays=s.checkDays,!(s.items.length<1)){var i=s.items.filter((function(t){return!0===t.isNow}));i.length<1?t.isNowMoney=0:i[0].isCheck?t.isNowMoney=i[0].minMoney:1===i[0].moneyType?t.isNowMoney=i[0].minMoney+"~"+i[0].maxMoney:t.isNowMoney=i[0].minMoney}})).catch((function(e){t.procError(e)}))},onCheckIn:function(){var t=this;this.showProgress(),this.$post("/api/CheckIn/CheckIn").then((function(e){return t.checkResp(e,(function(t){return!0===t.data.success}))})).then((function(e){t.isNowMoney=e.data,t.onGetCheckInInfo(),t.showProgress(!1),t.$success(t.$$reports("btnSuccess"))})).catch((function(e){t.showProgress(!1),t.procError(e)}))},getCheckInMoney:function(t){return 0===t.moneyType||t.isCheck?"+"+t.minMoney:t.minMoney+"~"+t.maxMoney},goFeatures:function(t){"exchangeMoney"===t&&this.isDottedMember()||this.redirectRouter(t)},goBalance:function(t){"purses"===t&&this.isDottedGames()||this.redirectRouter(t)},$$t:function(t){return this.$t("member."+t)},$$reports:function(t){return this.$t("reports."+t)}}},a=(s("fe7a"),s("2877")),n=Object(a.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"member"}},[t._m(0),s("scroller",[s("div",{staticClass:"warp"},[s("div",{staticClass:"memberInfo text-left white-text"},[s("div",{staticClass:"memberInfo-warp pt-3 pl-4 "},[s("div",{on:{click:function(e){return t.redirectRouter("member/info")}}},[s("van-image",{attrs:{round:"","lazy-load":"",width:"60",height:"60",src:t.getAvatar(Number(t.memberData&&t.memberData.avatar))||"/images/service/avatar.png"}})],1),s("div",[s("div",{staticClass:"body-2 ml-4"},[t._v("ID："+t._s(t.memberData&&t.memberData.memberAccount))]),s("div",{staticClass:"body-2 mt-2 ml-4"},[t._v(t._s(t.$$t("invitationCode"))+"："+t._s(t.memberData&&t.memberData.invitationCode)+" "),s("van-tag",{staticClass:"ml-2",attrs:{color:"#feb94c"},on:{click:function(e){return t.copyBtnClick(t.memberData&&t.memberData.invitationCode)}}},[t._v(" "+t._s(t.$$t("copy"))+" ")])],1),"SGMGM"!==t.skgCodeKey?s("div",{staticClass:"vip-progress mt-2"},[s("van-image",{staticClass:"mr-3",attrs:{"lazy-load":"",width:"40",height:"14",src:"/images/member/vipLv.png"}},[s("div",{staticClass:"vip-lv_position"},[t._v(t._s(t.memberData&&t.memberData.vipLevel))])]),s("van-progress",{attrs:{percentage:t.getPercentage,"track-color":"rgb(63, 100, 215)","stroke-width":"8"}}),s("van-image",{staticClass:"ml-3",attrs:{"lazy-load":"",width:"40",height:"14",src:"/images/member/vipLv-1.png"}},[s("div",{staticClass:"vip-lv_position"},[t._v(t._s(Number(t.memberData&&t.memberData.vipLevel)+1))])])],1):t._e()])])]),"SGMGM"!==t.skgCodeKey?s("div",{staticClass:"caption text-center text-white mt-2"},[t._v(t._s(t.$$t("promotion"))+" "),s("span",[t._v(t._s(t.$$t("turnover"))+" "+t._s(t.memberData&&t.memberData.currencySymbol)+t._s(t.getPromotion)+t._s(t.memberData&&t.memberData.currencyDenomination))]),s("span",[t._v(","+t._s(t.$$t("deposit"))+" "+t._s(t.currencySymbol)+t._s(t.getDepositRequire)+t._s(t.currencyDenomination))])]):t._e(),s("div",{staticClass:"balance mt-2 pt-4 pl-4"},[s("div",{staticClass:"balance-top"},[s("div",{staticClass:"mr-1"},[s("van-image",{attrs:{round:"","lazy-load":"",width:"23",height:"22",src:"/images/member/balance.png"}})],1),s("div",{staticClass:"caption mr-3"},[t._v(t._s(t.$$t("totalMoney")))])]),s("div",{staticClass:"balance-btm mt-3"},[s("div",{staticClass:"headline mr-3"},[t._v(t._s(t.memberData&&t.memberData.currencySymbol)+t._s(t.memberData&&t.memberData.balance)+t._s(t.memberData&&t.memberData.currencyDenomination)+" ")]),s("div",{staticClass:"ml-1"},[s("van-image",{class:{refresh:t.refreshIcon},attrs:{round:"","lazy-load":"",width:"22",height:"22",src:"/images/member/refresh.png"},on:{click:t.refreshBalance}})],1)])]),s("div",{staticClass:"navs px-4"},[s("div",{staticClass:"navs-warp radius-2 px-8 elevation-2"},["SGMGM"!==t.skgCodeKey?s("div",{on:{click:function(e){return t.redirectRouter("privileges")}}},[s("van-image",{attrs:{round:"","lazy-load":"",width:"48",height:"56",src:"/images/member/tq.png"}}),s("div",{staticClass:"headline van-multi-ellipsis--l2"},[t._v(t._s(t.$$t("privileges")))])],1):t._e(),"SGMGM"!==t.skgCodeKey?s("div",{staticClass:"center"}):t._e(),s("div",{on:{click:function(e){return t.redirectRouter("task")}}},[s("van-image",{attrs:{round:"","lazy-load":"",width:"48",height:"56",src:"/images/member/rw.png"}}),s("div",{staticClass:"headline van-multi-ellipsis--l2"},[t._v(t._s(t.$$t("bounty")))])],1)])]),s("van-row",{staticClass:"member-nav px-4",attrs:{type:"flex",justify:"space-around",align:"center",gutter:"5"}},t._l(t.balanceItems,(function(e,i){return s("van-col",{key:i,attrs:{span:"6"},on:{click:function(s){return t.goBalance(e.url)}}},[s("van-image",{attrs:{width:"44",height:"36",src:e.img,"lazy-load":""}},[s("template",{slot:"loading"},[s("van-loading",{attrs:{type:"spinner",size:"22"}})],1)],2),s("div",{staticClass:"title van-ellipsis"},[t._v(t._s(e.title)+" ")])],1)})),1),s("div",{staticClass:"features mt-3 px-4 pt-3 pb-4 text-left"},[s("div",{staticClass:"subtitle-3"},[t._v(t._s(t.$$t("features")))]),s("van-row",{attrs:{type:"flex",align:"center",gutter:"5"}},t._l(t.features,(function(e,i){return s("van-col",{key:i,staticClass:"mt-5",attrs:{span:"6"},on:{click:function(s){return t.goFeatures(e.url)}}},[s("van-image",{attrs:{width:"26",height:"26",src:e.img,"lazy-load":""}},[s("template",{slot:"loading"},[s("van-loading",{attrs:{type:"spinner",size:"22"}})],1)],2),s("div",{staticClass:"title mt-1 van-multi-ellipsis--l2"},[t._v(t._s(e.title))])],1)})),1)],1),s("div",{staticClass:"text-left mt-3"},[t.skgCode!==t.skyLotteryCode?s("van-cell",{attrs:{title:t.$$t("inviteUser"),center:"",size:"large","is-link":""},on:{click:function(e){return t.redirectRouter("inviteUser")}},scopedSlots:t._u([{key:"icon",fn:function(){return[s("van-icon",{staticClass:"mr-2",attrs:{name:"/images/member/yq.png",size:"26"}})]},proxy:!0}],null,!1,1112723828)}):t._e(),t.skgCode===t.skgGameCode&&"SG666"!==t.skgCodeKey?s("van-cell",{attrs:{title:t.$$t("helpCenter"),center:"",size:"large","is-link":""},on:{click:function(e){return t.redirectRouter("service/games")}},scopedSlots:t._u([{key:"icon",fn:function(){return[s("van-icon",{staticClass:"mr-2",attrs:{name:"/images/member/help.png",size:"26"}})]},proxy:!0}],null,!1,3136725549)}):t._e(),t.skgCode===t.skgGameCode?s("van-cell",{attrs:{title:t.$$t("about"),center:"",size:"large","is-link":""},on:{click:function(e){return t.redirectRouter("service/about/index")}},scopedSlots:t._u([{key:"icon",fn:function(){return[s("van-icon",{staticClass:"mr-2",attrs:{name:"/images/member/about.png",size:"26"}})]},proxy:!0}],null,!1,2479269489)}):t._e(),s("van-cell",{staticClass:"mt-3",attrs:{title:t.$$t("download"),center:"",size:"large","is-link":""},on:{click:function(e){return t.linkOpen(t.siteConfig&&t.siteConfig.appDownloadUrl)}},scopedSlots:t._u([{key:"icon",fn:function(){return[s("van-icon",{staticClass:"mr-2",attrs:{name:"/images/member/appDownload.png",size:"26"}})]},proxy:!0}])})],1),s("div",{staticClass:"abort mt-3 px-3 pb-3"},[s("van-button",{staticClass:"radius-2",attrs:{type:"default",block:""},on:{click:t.onLogout}},[t._v(t._s(t.$$t("LogOut")))])],1)],1)]),s("van-popup",{staticClass:"member_popup",style:{width:"340px"},attrs:{"close-on-click-overlay":!1,closeable:""},model:{value:t.showReportPopup,callback:function(e){t.showReportPopup=e},expression:"showReportPopup"}},[s("div",{staticClass:"center"},[s("div",{staticClass:"title text-center pl-4 py-4"},[t._v(t._s(t.$$reports("title")))]),s("div",{staticClass:"day_popup background-white px-4 pt-5"},[s("van-row",{attrs:{gutter:"12"}},[t._l(t.checkInItems,(function(e,i){return[s("div",{key:i},[i<t.checkInItems.length-1?s("van-col",{staticClass:"mb-4",attrs:{span:"6"}},[s("div",{staticClass:"day_box radius-2"},[s("div",{staticClass:"isCheck"},[s("van-overlay",{attrs:{show:e.isCheck}},[s("div",{on:{click:function(t){t.stopPropagation()}}},[s("van-icon",{attrs:{name:"/images/toolbar/isCheck.png",size:"32"}})],1)]),s("div",{staticClass:"pt-1 px-3"},[s("van-icon",{attrs:{name:"/images/toolbar/report_m.png",size:"38"}})],1),s("div",{staticClass:"number"},[t._v(t._s(t.getCheckInMoney(e)))])],1),s("div",{staticClass:"day_number",class:{day_number_now:e.isNow||e.isCheck}},[t._v(" "+t._s(e.days)+t._s(t.$$reports("day"))+" ")])])]):s("van-col",{attrs:{span:"12"}},[s("div",{staticClass:"day_box  radius-2"},[s("div",{staticClass:"isCheck"},[s("van-overlay",{attrs:{show:e.isCheck}},[s("div",{on:{click:function(t){t.stopPropagation()}}},[s("van-icon",{attrs:{name:"/images/toolbar/isCheck.png",size:"32"}})],1)]),s("div",{staticClass:"flex justify-content-center align-items-center pt-3",staticStyle:{"padding-bottom":"9px"}},[s("div",{staticClass:"mr-1"},[s("van-icon",{attrs:{name:"/images/toolbar/day_7.png",size:"42"}})],1),s("div",{staticClass:"number"},[t._v(t._s(t.getCheckInMoney(e)))])])],1),s("div",{staticClass:"day_number",class:{day_number_now:e.isNow||e.isCheck}},[t._v(" "+t._s(e.days)+t._s(t.$$reports("day"))+" ")])])])],1)]}))],2)],1),s("div",{staticClass:"subtitle-1"},[t._v(t._s(t.$$reports("info"))+" "),s("span",{staticClass:"main-text"},[t._v(t._s(t.checkDays))]),t._v(" "+t._s(t.$$reports("day"))+" ")]),s("div",{staticClass:"mt-2 flex justify-content-center align-items-center"},[s("div",{staticClass:"mr-1"},[s("van-icon",{attrs:{name:"/images/toolbar/report_m.png",size:"34"}})],1),s("div",{staticClass:"main-text",staticStyle:{"font-size":"20px","font-weight":"500"}},[t._v("+ "+t._s(t.isNowMoney))])]),s("div",{staticClass:"px-9 pb-5 mt-2"},[s("van-button",{attrs:{color:"linear-gradient(to right, rgb(117, 162, 255), rgb(70, 132, 255))",block:"",round:"",disabled:t.isNowCheck},on:{click:t.onCheckIn}},[t._v(" "+t._s(t.isNowCheck?t.$$reports("btnSuccess"):t.$$reports("btn"))+" ")])],1)])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"view-background"},[e("div",{staticClass:"view-background-flex"},[e("div",{staticClass:"view-background-flex-top"}),e("div",{staticClass:"view-background-flex-bottom"})])])}],!1,null,"4292feb8",null);e.default=n.exports},fe7a:function(t,e,s){"use strict";s("87c0")}}]);