(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-16b643ac"],{1380:function(t,e,s){},"1eda":function(t,e,s){"use strict";s.r(e);s("a9e3"),s("b680");var n={name:"HotMatchBet",data:function(){return{item:{},betMoney:0,moneyArrs:[10,50,100],handlingFee:null}},created:function(){this.item=this.$sessionGet("hotMatch-data"),this.onGetHandlingFee()},computed:{expectedMoney:function(){return this.betMoney<1?0:(Number(this.betMoney)*(1+this.item.odds/100)).toFixed(2)},handlingFeeMoney:function(){if(Number(this.betMoney)<1)return 0;var t=Number(this.betMoney)*(this.item.odds/100)*(Number(this.handlingFee)/100);return this.currencySymbol+t.toFixed(2)+this.currencyDenomination}},methods:{onBet:function(){var t=this;Number(this.memberData.balance)<Number(this.betMoney)?this.$info(this.$$tBets("balance_t")):Number(this.betMoney)<1?this.$info(this.$$tBets("betMoney_t")):(this.showProgress(),this.$post("/api/Match/Bet",{betMoney:this.betMoney,matchItemObjId:this.item.matchItemObjId}).then((function(e){return t.checkResp(e,(function(t){return!0===t.data.success}))})).then((function(){t.betMoney=0,t.initMemberData(),t.showProgress(!1),t.$success(t.$$tBets("betSuccess")),t.$dialog.confirm({title:t.$t("common.point"),message:t.$$t("bet_t"),confirmButtonColor:"#597ef7"}).then((function(){t.redirectRouter("/app/tournamentsNotes")})).catch((function(){}))})).catch((function(e){t.showProgress(!1),t.procError(e)})))},onGetHandlingFee:function(){var t=this;this.showProgress(),this.$get("/api/Match/HandlingFee").then((function(e){return t.checkResp(e,(function(t){return!0===t.data.success}))})).then((function(e){t.handlingFee=e.data,t.showProgress(!1)})).catch((function(e){t.showProgress(!1),t.procError(e)}))},setBetMoney:function(t){this.betMoney=t||Math.floor(Number(this.memberData.balance))},$$tBets:function(t,e){return this.$t("bets."+t,e)},$$t:function(t){return this.$t("hotMatchBet."+t)}},beforeRouteLeave:function(t,e,s){sessionStorage.removeItem("hotMatch-data"),s()}},a=(s("9c86"),s("2877")),i=Object(a.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center",attrs:{id:"hotMatchBet"}},[s("scroller",{attrs:{userSelect:!1}},[s("div",{staticClass:"macth_info px-3 py-2 mt-2 white-text"},[s("div",{staticClass:"subtitle-5"},[t._v(" "+t._s(t.$$t("against"))+" "+t._s(t.item.score)+" ")]),s("div",{staticClass:"caption mt-1"},[t._v(t._s(t.item.leagueName))]),s("van-row",{staticClass:"mt-3 px-2",attrs:{align:"center"}},[s("van-col",{attrs:{span:"10"}},[s("div",{staticClass:"subtitle-1"},[t._v(t._s(t.item.homeTeamName))])]),s("van-col",{attrs:{span:"4"}},[s("van-image",{attrs:{src:"images/ucs/vs_match.png",width:"31",height:"22"}})],1),s("van-col",{attrs:{span:"10"}},[s("div",{staticClass:"subtitle-1"},[t._v(t._s(t.item.awayTeamName))])])],1)],1),s("div",{staticClass:"background-white py-3 mt-2"},[s("van-row",{attrs:{align:"center"}},[s("van-col",{attrs:{span:"8"}},[s("div",{staticClass:"caption ucs-text"},[t._v(t._s(t.$$tBets("money")))])]),s("van-col",{attrs:{span:"8"}},[s("div",{staticClass:"caption ucs-text"},[t._v(t._s(t.$$tBets("odds")))])]),s("van-col",{attrs:{span:"8"}},[s("div",{staticClass:"caption ucs-text"},[t._v(t._s(t.$$tBets("handlingFee")))])])],1),s("van-row",{staticClass:"mt-3",attrs:{align:"center"}},[s("van-col",{attrs:{span:"8"}},[s("div",{},[s("van-field",{staticClass:"betMoney_input",attrs:{maxlength:"8",type:"digit"},model:{value:t.betMoney,callback:function(e){t.betMoney=e},expression:"betMoney"}})],1)]),s("van-col",{attrs:{span:"8"}},[s("div",{staticClass:"subtitle-1 ucs-text"},[t._v("X"+t._s(t.item.odds)+"%")])]),s("van-col",{attrs:{span:"8"}},[s("div",{staticClass:"subtitle-1 ucs-text"},[t._v(t._s(t.handlingFee)+"%")])])],1),s("van-row",{staticClass:"mt-3 px-4",attrs:{gutter:"4",type:"flex",justify:"space-between",align:"center"}},[t._l(t.moneyArrs,(function(e){return[s("van-col",{key:e},[s("van-button",{attrs:{size:"mini",plain:"",hairline:"",type:"info"},on:{click:function(s){return t.setBetMoney(e)}}},[s("span",{staticClass:"px-6 ucs-text"},[t._v(t._s(e))])])],1)]})),s("van-col",[s("van-button",{attrs:{size:"mini",plain:"",hairline:"",type:"info"},on:{click:function(e){return t.setBetMoney(null)}}},[s("span",{staticClass:"px-6 ucs-text"},[t._v(t._s(t.$t("common.all")))])])],1)],2),s("van-divider",{staticClass:"ma-0 mt-3",style:{color:"#7e838f",borderColor:"#7e838f",padding:"0 16px"}}),s("van-row",{staticClass:"mt-3 px-4 subtitle-1",attrs:{align:"center"}},[s("van-col",{attrs:{span:"12"}},[s("div",{staticClass:"text-left",staticStyle:{color:"#f1994a"}},[t._v(" "+t._s(t.$$tBets("expectedMoney"))+"："+t._s(t.currencySymbol)+t._s(t.expectedMoney)+t._s(t.currencyDenomination)+" ")])]),s("van-col",{attrs:{span:"12"}},[s("div",{staticClass:"subtitle-1 ucs-text text-right"},[t._v(" "+t._s(t.$$tBets("handlingFee"))+"："+t._s(t.handlingFeeMoney)+" ")])])],1)],1),s("div",{staticClass:"background-white mt-2 px-3 py-2 text-left"},[s("div",{staticClass:"subtitle-1"},[t._v(" "+t._s(t.$$tBets("balance"))+"："+t._s(t.currencySymbol)+t._s(t.memberData&&t.memberData.balance)+t._s(t.currencyDenomination)+" ")])]),s("div",{staticClass:"px-4 btns"},[s("van-row",{attrs:{gutter:"12"}},[s("van-col",{attrs:{span:"12"}},[s("van-button",{staticClass:"radius-2",attrs:{block:"",plain:"",type:"info"},on:{click:function(e){return t.$router.back()}}},[s("span",{staticClass:"subtitle-1"},[t._v(t._s(t.$$t("cancel")))])])],1),s("van-col",{attrs:{span:"12"}},[s("van-button",{staticClass:"radius-2",attrs:{block:"",color:"#597ef7"},on:{click:t.onBet}},[s("span",{staticClass:"subtitle-1"},[t._v(t._s(t.$$t("deal")))])])],1)],1)],1)])],1)}),[],!1,null,"20bfc6cd",null);e.default=i.exports},"9c86":function(t,e,s){"use strict";s("1380")}}]);