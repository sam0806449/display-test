(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b2b1a766"],{4391:function(t,e,s){"use strict";s.r(e);s("b0c0"),s("a9e3");var i=s("6a57"),a={name:"FinancialMarketDetails",data:function(){return{stepsActive:3,item:{}}},activated:function(){var t=this.$route.query.productId||sessionStorage.getItem("productId");this.onLoad(t)},computed:{getDayRules:function(){return 0===Number(this.item&&this.item.cycleType)&&Number(this.item&&this.item.cycle)<2}},methods:{onLoad:function(t){var e=this;this.$get("/api/Financial/GetProduct?objId="+t).then((function(t){return e.checkResp(t,(function(t){return!0===t.data.success}))})).then((function(t){e.item=t.data})).catch((function(t){e.procError(t)}))},redirectBuy:function(){this.$router.push({path:"/app/financial/buy",query:{productId:this.item.id,title:this.item.name,isShow:this.getDayRules?1:2,minimumPurchaseAmount:this.item.minimumPurchaseAmount}})},getDay:function(t,e){return 1===t?30*e:2===t?30*e*12:e},getDayFormat:function(t,e){return 1===t?30*e+this.$$t("day"):2===t?30*e*12+this.$$t("day"):e<2?this.$t("financial.unLimited"):e+this.$$t("day")},redirectRouter:function(t){this.$router.push(t)},redirectRules:function(){this.getDayRules||this.$router.push({path:"/app/financial/rules",query:{minimumPurchaseAmount:this.item.minimumPurchaseAmount}})},dateFormat:function(t){return Object(i.d)(t,"yyyy-MM-dd")},$$t:function(t){return t?this.$t("financialMarketDetails."+t):""}},beforeRouteLeave:function(t,e,s){"financialMarket"===t.name&&sessionStorage.removeItem("productId"),s()}},n=(s("b279"),s("2877")),c=Object(n.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"financialMarketDetails"}},[t._m(0),s("scroller",[s("div",{staticClass:"warp"},[s("div",{staticClass:"marketDetails-top"},[s("div",{staticClass:"title"},[t._v(t._s(t.item&&t.item.name))]),s("div",{staticClass:"desc van-ellipsis"},[t._v(t._s(t.$$t("titleDesc1"))+t._s(t.item&&t.item.name)+t._s(t.$$t("titleDesc2")))])]),s("div",{staticClass:"marketDetails-annualized"},[s("van-row",{attrs:{type:"flex",justify:"space-between"}},[s("van-col",{attrs:{span:"12"}},[s("div",{staticClass:"text"},[t._v(t._s(t.$$t("annualized")))]),s("div",{staticClass:"number"},[t._v(t._s(t.item&&t.item.annualizedIncomeBenchmark)+"%")])]),s("van-col",{staticClass:"right",attrs:{span:"12"}},[s("div",{staticClass:"text"},[t._v(t._s(t.$$t("period")))]),s("div",{staticClass:"number van-ellipsis"},[t._v(t._s(t.getDayFormat(t.item&&t.item.cycleType,t.item&&t.item.cycle)))])])],1),s("div",{staticClass:"tag"},[s("van-tag",{attrs:{color:"#0BA194",plain:"",size:"medium"}},[s("van-icon",{attrs:{name:"images/financial/risk.png",size:"8"}}),t._v(" "+t._s(t.$$t("desc1"))+" ")],1),s("van-tag",{attrs:{color:"#999999",plain:"",size:"medium"}},[t._v(t._s(t.item.currencySymbol)+t._s(t.item&&t.item.minimumPurchaseAmount)+t._s(t.currencyDenomination)+t._s(t.$$t("desc2"))+" ")])],1)],1),s("div",{staticClass:"marketDetails-desc"},[s("div",{staticClass:"desc-1 van-ellipsis"},[t._v(t._s(t.$$t("assetsDesc1")))]),s("div",{staticClass:"desc-2 van-ellipsis"},[s("van-icon",{attrs:{name:"success",size:"12"}}),t._v(" "+t._s(t.$$t("assetsDesc2"))+" ")],1),s("div",{staticClass:"desc-3 van-ellipsis"},[s("van-icon",{attrs:{name:"success",size:"12"}}),t._v(" "+t._s(t.$$t("assetsDesc3"))+" ")],1),s("div",{staticClass:"desc-4 van-ellipsis"},[s("van-icon",{attrs:{name:"success",size:"12"}}),t._v(" "+t._s(t.$$t("assetsDesc4"))+" ")],1)]),s("div",{staticClass:"marketDetails-rules"},[s("van-cell",{attrs:{border:!1,center:"",title:t.$$t("rulesTitle"),value:t.getDayRules?"":t.$$t("details"),"title-class":"marketDetails-rules-title","value-class":"rules-value"},on:{click:function(e){return t.redirectRules()}}},[t.getDayRules?t._e():s("van-icon",{attrs:{slot:"right-icon",name:"arrow"},slot:"right-icon"})],1),t.getDayRules?s("div",{staticClass:"marketDetails-rules-text"},[t._v(" "+t._s(t.$$t("rules4_1"))+t._s(t.item.currencySymbol)+t._s(t.item&&t.item.minimumPurchaseAmount)+t._s(t.currencyDenomination)+t._s(t.$$t("rules4_1_2"))+t._s(t.currencySymbol)+"1"+t._s(t.currencyDenomination)+t._s(t.$$t("rules4_2"))+" ")]):s("div",[s("van-steps",{attrs:{active:t.stepsActive,"active-color":"#F36A06"}},[s("van-step",[s("h3",[t._v(t._s(t.$$t("deal")))]),s("p",[t._v(t._s(t.formatDate(t.dateFormat(new Date))))])]),s("van-step",[s("h3",[t._v(t._s(t.$$t("income")))]),s("p",[t._v(t._s(t.afterByDayFormat((new Date).getTime(),1)))])]),s("van-step",[s("h3",[t._v(t._s(t.$$t("redemptionDate")))]),s("p",[t._v(t._s(t.afterByDayFormat(new Date,t.getDay(t.item.cycleType,t.item&&t.item.cycle))))])])],1),s("div",{staticClass:"marketDetails-rules-desc"},[s("ul",{attrs:{type:"disc"}},[s("li",[t._v(t._s(t.$$t("rules1")))]),s("li",[t._v(t._s(t.$$t("rules2")))]),s("li",[t._v(t._s(t.$$t("rules3")))])])])],1)],1)])]),s("van-tabbar",[s("div",{staticClass:"btn"},[s("van-button",{attrs:{hairline:"",block:"",color:"linear-gradient(to right, rgb(154, 187, 255), rgb(70, 132, 255))"},on:{click:t.redirectBuy}},[t._v(t._s(t.$$t("buy"))+" ")])],1)])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"view-background"},[e("div",{staticClass:"view-background-flex"},[e("div",{staticClass:"view-background-flex-top"}),e("div",{staticClass:"view-background-flex-bottom"})])])}],!1,null,"18ddd138",null);e.default=c.exports},b279:function(t,e,s){"use strict";s("f850")},f850:function(t,e,s){}}]);